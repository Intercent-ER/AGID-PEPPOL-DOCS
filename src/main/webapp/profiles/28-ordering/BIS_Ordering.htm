<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8.dev">
<meta name="author" content="PEPPOL">
<title>Ordine di Fornitura Elettronico con risposta 3.0</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Ordine di Fornitura Elettronico con risposta 3.0</h1>
<div class="details">
<span id="author" class="author">PEPPOL</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#trueintroduzione-a-openpeppol-e-alla-bis">1. Introduzione a openPEPPOL e alla BIS</a>
<ul class="sectlevel2">
<li><a href="#truea-chi-si-rivolge">1.1. A chi si rivolge</a></li>
</ul>
</li>
<li><a href="#trueprincipi-e-prerequisiti">2. Principi e prerequisiti</a>
<ul class="sectlevel2">
<li><a href="#truepeppol-bis-ordering-ambito">2.1. PEPPOL BIS Ordering - Ambito</a></li>
<li><a href="#trueparti-e-ruoli">2.2. Parti e ruoli</a></li>
<li><a href="#truepeppol-bis-ordering-benefici">2.3. PEPPOL BIS Ordering - Benefici</a></li>
<li><a href="#trueinteroperabilità">2.4. Interoperabilità</a></li>
</ul>
</li>
<li><a href="#truerequisiti-pa">3. Requisiti PA</a>
<ul class="sectlevel2">
<li><a href="#truecomunicazione-codice-ipa">3.1. Comunicazione Codice IPA</a></li>
</ul>
</li>
<li><a href="#trueregole-di-business-italiane">4. Regole di business italiane</a>
<ul class="sectlevel2">
<li><a href="#trueregole-di-business-per-lordine">4.1. Regole di business per l&#8217;ordine</a></li>
<li><a href="#trueregole-di-business-per-la-risposta-dordine">4.2. Regole di business per la risposta d&#8217;ordine</a></li>
</ul>
</li>
<li><a href="#trueprocessi-e-casi-duso-tipici">5. Processi e casi d’uso tipici</a>
<ul class="sectlevel2">
<li><a href="#trueflusso-del-processo">5.1. Flusso del processo</a></li>
<li><a href="#truerequisiti-dei-processi-di-business">5.2. Requisiti dei processi di business</a></li>
<li><a href="#truediagramma-del-processo-di-business">5.3. Diagramma del processo di business</a></li>
<li><a href="#truecaso-duso-1-risposta-allordine-di-fornitura-su-articoli-numerati">5.4. Caso d’uso 1 – Risposta all’ordine di fornitura su articoli numerati</a></li>
<li><a href="#truecaso-duso-2-risposta-allordine-di-fornitura-con-articoli-e-un-allegato">5.5. Caso d’uso 2 – Risposta all’ordine di fornitura con articoli e un allegato</a></li>
<li><a href="#truecaso-duso-3-risposta-allordine-di-fornitura-per-i-servizi">5.6. Caso d’uso 3 – Risposta all’ordine di fornitura per i servizi</a></li>
<li><a href="#truecaso-duso-4-risposta-ad-un-ordine-di-fornitura-complesso">5.7. Caso d’uso 4 – Risposta ad un ordine di fornitura complesso</a></li>
</ul>
</li>
<li><a href="#truesemantica-della-tipologia-di-dati-semantic-datatype">6. Semantica della tipologia di dati (Semantic datatype)</a>
<ul class="sectlevel2">
<li><a href="#truetipi-primitivi">6.1. Tipi primitivi</a></li>
<li><a href="#truesemantica-della-tipologia-di-dati">6.2. Semantica della tipologia di dati</a></li>
</ul>
</li>
<li><a href="#truecodifiche-di-riferimento">7. Codifiche di riferimento</a>
<ul class="sectlevel2">
<li><a href="#truecodifiche-di-riferimento-per-elementi-codificati">7.1. Codifiche di riferimento per elementi codificati</a></li>
<li><a href="#truetipologia-dellordine">7.2. Tipologia dell&#8217;ordine</a></li>
<li><a href="#truecodifica-di-riferimento-per-identificatori">7.3. Codifica di riferimento per identificatori</a></li>
</ul>
</li>
<li><a href="#truedescrizione-di-parti-selezionate-del-messaggio-dellordine">8. Descrizione di parti selezionate del messaggio dell’ordine</a>
<ul class="sectlevel2">
<li><a href="#trueparti-di-business">8.1. Parti di business</a></li>
<li><a href="#trueriferimento-ad-unaltro-ordine">8.2. Riferimento ad un’altro ordine</a></li>
<li><a href="#truealtri-riferimenti">8.3. Altri Riferimenti</a></li>
<li><a href="#trueallegati">8.4. Allegati</a></li>
<li><a href="#trueidentificazione-prodotto">8.5. Identificazione prodotto</a></li>
<li><a href="#truenome-e-descrizione-prodotto">8.6. Nome e descrizione prodotto</a></li>
<li><a href="#truecentro-di-costo">8.7. Centro di Costo</a></li>
<li><a href="#truequantità-e-unità-di-misura">8.8. Quantità e unità di misura</a></li>
<li><a href="#trueprezzi">8.9. Prezzi</a></li>
<li><a href="#trueomaggi">8.10. Omaggi</a></li>
<li><a href="#truesconti-e-maggiorazioni">8.11. Sconti e maggiorazioni</a></li>
<li><a href="#truegestione-ordini-particolari">8.12. Gestione Ordini particolari</a></li>
<li><a href="#truecalcolo-dei-totali-anticipatedmonetarytotals">8.13. Calcolo dei totali (AnticipatedMonetaryTotals)</a></li>
<li><a href="#truetotale-imposte">8.14. Totale imposte</a></li>
<li><a href="#trueconsegna-delivery">8.15. Consegna (Delivery)</a></li>
<li><a href="#trueconfezionamento">8.16. Confezionamento</a></li>
<li><a href="#truecategoria-iva-su-riga">8.17. Categoria IVA su riga</a></li>
</ul>
</li>
<li><a href="#truedescrizione-di-parti-selezionate-del-messaggio-di-risposta-dordine">9. Descrizione di parti selezionate del messaggio di risposta d’ordine</a>
<ul class="sectlevel2">
<li><a href="#truecodice-di-risposta">9.1. Codice di risposta</a></li>
<li><a href="#trueriferimento-allordine">9.2. Riferimento all&#8217;ordine</a></li>
<li><a href="#trueesempi-di-risposta-dordine">9.3. Esempi di risposta d&#8217;ordine</a></li>
<li><a href="#trueordine-accettato-con-modifiche">9.4. Ordine accettato con modifiche</a></li>
<li><a href="#trueordine-con-sostituzione-articoli-e-consegna-fuori-tempo">9.5. Ordine con sostituzione articoli e consegna fuori tempo</a></li>
<li><a href="#trueordine-con-rinvio">9.6. Ordine con rinvio</a></li>
<li><a href="#truecategoria-iva-su-riga-2">9.7. Categoria IVA su riga</a></li>
</ul>
</li>
<li><a href="#trueidentificatori-peppol">10. Identificatori PEPPOL</a>
<ul class="sectlevel2">
<li><a href="#trueprofili-e-messaggi">10.1. Profili e messaggi</a></li>
<li><a href="#trueidentificatori-di-personalizzazione-e-profilo">10.2. Identificatori di personalizzazione e profilo</a></li>
<li><a href="#trueendpoint-id-identificativo-di-instradamento-sulla-rete-peppol">10.3. Endpoint ID - Identificativo di instradamento sulla rete PEPPOL</a></li>
<li><a href="#trueparty-identification-identificazione-ai-fini-operativi-eo-amministrativo-contabili">10.4. Party Identification - Identificazione ai fini operativi e/o amministrativo-contabili</a></li>
<li><a href="#trueid-profilo">10.5. ID Profilo</a></li>
<li><a href="#truespazio-dei-nomi">10.6. Spazio dei nomi</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>OpenPEPPOL AISBL, Post-Award Coordinating Community</p>
</div>
<hr>
<div class="imageblock">
<div class="content">
<img src="../../images/PEPPOL_Authority.jpg" alt="PEPPOL Authority">
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>La specifica PEPPOL Business Interoperability, la denomineremo "BIS" da ora in avanti, è stata sviluppata da OpenPEPPOL AISBL Post Award Coordinating Community e pubblicata come parte delle specifiche PEPPOL.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Statement of copyright</div>
<div class="paragraph">
<p>This PEPPOL Business Interoperability Specification (BIS) document is based on the CEN CWA prepared by the BII workshop specified in the introduction below. The original CEN CWA document contains the following copyright notice which still applies:</p>
</div>
<div class="paragraph">
<p>© 2012 CEN All rights of exploitation in any form and by any means reserved worldwide for CEN national Members.</p>
</div>
<div class="paragraph">
<p>The CEN CWA documents and profiles prepared by the BII workshop are not specific to a business area. Subject to agreement with CEN, customizations have been made by PEPPOL to establish the PEPPOL BIS, detailing and adding further guidance on the use of BII profiles.</p>
</div>
<div class="paragraph">
<p>OpenPEPPOL AISBL holds the copyright in the customizations made to the original document. The customizations appear from the corresponding conformance statement which is attached to this document. For the purpose of national implementations, customizations covered by the conformance statement may be further refined and detailed by PEPPOL Authorities and/or other entities authorized by OpenPEPPOL AISBL, provided that interoperability with PEPPOL BIS is ensured. This PEPPOL BIS document may not be modified, re-distributed, sold or repackaged in any other way without the prior consent of CEN and/or OpenPEPPOL AISBL.</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/peppol.jpg" alt="peppol">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueintroduzione-a-openpeppol-e-alla-bis"><a class="anchor" href="#trueintroduzione-a-openpeppol-e-alla-bis"></a>1. Introduzione a openPEPPOL e alla BIS</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Questa BIS è il risultato del lavoro svolto in <a href="https://peppol.eu/about-openpeppol/?rel=tab41">openPEPPOL</a> e pubblicato come parte delle specifiche <a href="https://peppol.eu/?rel=undefined">PEPPOL</a>.</p>
</div>
<div class="paragraph">
<p>Questo PEPPOL BIS fornisce un set di specifiche per implementare un processo di business <a href="https://peppol.eu/?rel=undefined">PEPPOL</a>. Il documento è inteso per chiarire i requisiti necessari per assicurare l’interoperabilità nell’eProcurement Pubblico pan-europeo e fornisce le linee guida per il supporto e l’implementazione di questi requisiti. Questo PEPPOL BIS si basa sul CEN WS/BII “BII Profile 28 Ordering” <a href="ftp://ftp.cen.eu/public/CWAs/BII2/CWA16562/CWA16562-Annex-G-BII-Profile-28-Ordering-V1_0_0.pdf">CEN BII2 Profile28, Ordering</a> e lo estende in base ai requisiti di e-Procurement della Regione Emilia Romagna.</p>
</div>
<div class="paragraph">
<p>Fare riferimento alla sezione “ID Customizzazione” per ulteriori informazioni.</p>
</div>
<div class="paragraph">
<p><strong>Lo scopo</strong> di questo documento è di descrivere un formato comune per il messaggio dell’ordine di fornitura nel mercato europeo, e facilitare un’efficiente implementazione e diffusione della collaborazione elettronica relativa al processo dell’ordine basata su questo formato.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/fig1.jpg" alt="fig1">
</div>
<div class="title">Figure 1. Relazione tra i profili BII e PEPPOL BIS</div>
</div>
<hr>
<div class="sect2">
<h3 id="truea-chi-si-rivolge"><a class="anchor" href="#truea-chi-si-rivolge"></a>1.1. A chi si rivolge</h3>
<div class="paragraph">
<p>Questo documento si rivolge alle organizzazioni che intendono essere abilitate a <a href="https://peppol.eu/?rel=undefined ">PEPPOL</a> per scambiare ordini elettronici, e/o ai loro fornitori ICT. Queste organizzazioni potrebbero essere:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fornitori di Servizi</p>
</li>
<li>
<p>Autorità appaltanti</p>
</li>
<li>
<p>Operatori Economici</p>
</li>
<li>
<p>Sviluppatori Software</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Più specificatamente, i ruoli previsti sono i seguenti:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Architetti ICT</p>
</li>
<li>
<p>Sviluppatori ICT</p>
</li>
<li>
<p>Esperti di Business</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Per ulteriori informazioni su PEPPOL/OpenPEPPOL, leggete <a href="https://joinup.ec.europa.eu/svn/peppol/PEPPOL%20BIS%20Common%20text%20and%20introduction%20-%20ver%201%202014-04-14.pdf ">PEPPOL BIS, common text and introduction</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprincipi-e-prerequisiti"><a class="anchor" href="#trueprincipi-e-prerequisiti"></a>2. Principi e prerequisiti</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Questo capitolo descrive i principi e le assunzioni che stanno alla base dell’uso del processo di fornitura PEPPOL.   Esso di basa sul processo <a href="ftp://ftp.cen.eu/public/CWAs/BII2/CWA16562/CWA16562-Annex-G-BII-Profile-28-Ordering-V1_0_0.pdf">CEN BII2 Profile 28, Ordering</a>.</p>
</div>
<div class="sect2">
<h3 id="truepeppol-bis-ordering-ambito"><a class="anchor" href="#truepeppol-bis-ordering-ambito"></a>2.1. PEPPOL BIS Ordering - Ambito</h3>
<div class="paragraph">
<p>Questo BIS descrive un processo che prevede l’emissione di un ordine elettronico da parte del Cliente, che il Fornitore può accettare, accettare con modifiche o rifiutarlo. In caso di rigetto il Fornitore può indicarne i motivi, in modo che il Cliente possa emettere un nuovo Ordine accettabile.  Il Fornitore può accettare l’Ordine con modifiche, solo se l’ambito di queste modifiche era stato precedentemente pattuito in un contratto.  L’Ordine che viene convenuto con l’accettazione ha lo stesso valore commerciale e legale di un contratto.</p>
</div>
<div class="paragraph">
<p>Le principali attività supportate da questo profilo sono:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Fornitura Strutturata </dt>
<dd>
<p>La transazione dell’Ordine dovrebbe supportare la fornitura strutturata di beni o servizi, descritti sia mediante testo libero che identificatori. L’informazione di origine dei prodotti ordinati potrebbe provenire da un catalogo (cartaceo o elettronico).</p>
</dd>
<dt class="hdlist1">Contabilità </dt>
<dd>
<p>Il processo dell’ordine di fornitura deve supportare l’allocazione del budget, in modo che possano essere indicati gli importi relativi al valore dei prodotti ordinati. L’acquirente può fornire alcune informazioni che il fornitore dovrà inserire in fattura per facilitare e automatizzare il processo di fatturazione.</p>
</dd>
<dt class="hdlist1">Verifica Fattura </dt>
<dd>
<p>L’acquirente può fornire alcune informazioni che il fornitore dovrà inserire in fattura per facilitare e automatizzare il processo di approvazione di questa.</p>
</dd>
<dt class="hdlist1">Resoconto IVA </dt>
<dd>
<p>Il resoconto IVA non è un requisito generale negli ordini. Il livello di supporto negli ordini è il seguente:</p>
<div class="ulist">
<ul>
<li>
<p>Abilitare il resoconto IVA nelle fatture indicando il codice IVA del cliente nel caso di inversione contabile.</p>
</li>
<li>
<p>L’IVA può essere indicata come stimata per permettere ai clienti di indicare il valore previsto dell’ordine. Questo può essere utile per la correlazione automatica di ordini e relative fatture. Le informazioni IVA sono considerate informative e quindi non influiscono sui termini commerciali.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Trasporto e consegna </dt>
<dd>
<p>Vi è solo un supporto limitato per le informazioni relative al trasporto, ma è noto che l’acquirente necessita di fornire alcune informazioni circa l’indirizzo o ubicazione di consegna richiesti, alcuni termini basilari, l’ora e la persona di contatto per la consegna dell’ordine.</p>
</dd>
<dt class="hdlist1">Inventario </dt>
<dd>
<p>Il supporto alla gestione dell’inventario non è previsto, ma gli ordini strutturati basati su cataloghi possono essere utilizzati per automatizzare la raccolta presso il magazzino del fornitore.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="trueparti-e-ruoli"><a class="anchor" href="#trueparti-e-ruoli"></a>2.2. Parti e ruoli</h3>
<div class="paragraph">
<p>La tabella seguente fornisce le definizioni delle parti e dei ruoli nel processo dell’ordine di fornitura.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Parti di Business</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cliente</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Il cliente è la persona legale o organizzazione che richiede un prodotto o servizio.
Esempi di ruoli ricoperti dal cliente sono: acquirente, consegnatario/parte ricevente, debitore, autorità appaltante, committente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fornitore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Il fornitore è la persona legale o organizzazione che fornisce un prodotto o servizio.
Esempi di ruoli risoperti dal fornitore sono: venditore, parte consegnante, creditore, operatore economico.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ruolo/Attore</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acquirente
cac:BuyerCustomerParty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente è la persona legale o organizzazione che agisce per conto del cliente e che acquista la merce o i servizi.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Venditore
cac:SellerSupplierParty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Il venditore è la persona legale o organizzazione che agisce per conto del fornitore e che vende la merce o i servizi al cliente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Committente
cac:OriginatorCustomerParty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Una persona o unità di business che dà origine all’ordine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intestatario fattura
cac:AccountingCustomerParty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Una persona o unità di business che riceve la fattura per conto del cliente.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Il diagramma seguente collega i processi di business ai ruoli ricoperti di partner di business.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/fig6.jpg" alt="fig6">
</div>
</div>
</div>
<div class="sect2">
<h3 id="truepeppol-bis-ordering-benefici"><a class="anchor" href="#truepeppol-bis-ordering-benefici"></a>2.3. PEPPOL BIS Ordering - Benefici</h3>
<div class="paragraph">
<p>In seguito al successo derivato dall’automatizzazione del ciclo di fatturazione, vi è un crescente interesse anche per l’automatizzazione del ciclo dell’ordine. Questo approccio ha due dimensioni: supportare ulteriori automazioni per il ciclo di fatturazione e utilizzare cataloghi strutturati come base per l’emissioni di ordinativi di fornitura.  Implementare questo BIS è un passo importante per molte aziende ed agenzie governative per raggiungere la piena automazione dei processi di approvvigionamento (procurement).</p>
</div>
<div class="paragraph">
<p>Per i venditori, l’approvazione, raccolta e fatturazione può essere automatizzata in modo significativo.</p>
</div>
<div class="paragraph">
<p>Per l’agenzia di approvvigionamento, l’approvazione e la contabilità delle fatture può essere automatizzata e la procedura di emissione dell’ordine può essere strutturata per mezzo dei cataloghi.</p>
</div>
<div class="paragraph">
<p>Altri potenziali benefici derivati dall’uso di questo BIS sono, fra gli altri:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Può essere utilizzato dale agenzie di approvvigionamento come passo verso l’automazione del processo di approvvigionamento.  La flessibilità delle specifiche permette agli acquirenti di automatizzare e strutturare gradualmente l’emissione degli ordini, in base ad un approccio costo/beneficio.</p>
</li>
<li>
<p>Le PMI possono offrire ai loro partner commerciali l’opzione di scambiare documenti standardizzati in modo uniforme e quindi muovere tutti gli ordini in formato elettronico.</p>
</li>
<li>
<p>Le grandi aziende possono implementare questo BIS come documenti standardizzati per le operazioni principali ed implementare connessioni personalizzate mediante accordi bilaterali con i partner commerciali più importanti.</p>
</li>
<li>
<p>Può essere utilizzato come base per ristrutturare i processi interni degli ordini e delle fatture.</p>
</li>
<li>
<p>Le agenzia di approvvigionamento possono realizzare risparmi significativi attraverso l’automatizzazione e la semplificazione dei processi interni.</p>
</li>
<li>
<p>I venditori possono realizzare risparmi significativi automatizzando e semplificando i processi interni.  Il collegamento fra la raccolta e la fatturazione può essere migliorata in modo significativo mediante l’uso di ordini di qualità superiore, ristrutturando la risoluzione delle dispute sulle fatture e accorciando i tempi di pagamento.</p>
</li>
<li>
<p>Per l’agenzia di approvvigionamento, l’automatizzazione delle fatture e degli ordinativi può essere strutturata.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="trueinteroperabilità"><a class="anchor" href="#trueinteroperabilità"></a>2.4. Interoperabilità</h3>
<div class="paragraph">
<p>La struttura di questo PEPPOL BIS si basa sull’European Interoperability Framework 2.0 <a href="http://ec.europa.eu/idabc/en/document/2319/5644.html">EIF</a>. PEPPOL BIS applica il framework come segue:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Interoperabilità legale </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Legale:</p>
<div class="ulist">
<ul>
<li>
<p>Nelle implementazioni a sostegno degli acquirenti del settore pubblico (PA), l&#8217;utilizzo del BIS punch out deve essere monitorato al fine di garantire che gli acquirenti agiscano in linea con le direttive UE sugli appalti.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Interoperabilità organizzativa </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Organizzazione (Organzzazione/Business):</p>
<div class="ulist">
<ul>
<li>
<p>Questo PEPPOL BIS supporta B2B e B2G.</p>
</li>
<li>
<p>Questo PEPPOL BIS supporta ordinativi transfrontalieri, regionali e domestici in EU e EEA.</p>
</li>
<li>
<p>Questo PEPPOL BIS può fungere da componente all’interno di un accordo EDI all’interno di una comunità commerciale.</p>
</li>
<li>
<p>Questo PEPPOL BIS supporta il collegamento dei processi di business nelle organizzazioni emittenti o riceventi. Il processo di invio dell’ordine in formato elettronico può essere collegato ai processi interni della parte emittente e ricevente, che possono differire per vari motivi.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Organizzazione (Processo):</p>
<div class="ulist">
<ul>
<li>
<p>Questo PEPPOL BIS supporta un set di processi di business “comuni” che si assume siano supportati dalla maggior parte delle aziende sia pubbliche che private.  Questi sono processi largamente utilizzati o compresi in quanto rilevanti per la maggior parte delle aziende.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Interoperabilità semantica </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Semantica: Il set di elementi informative si assume sia sufficiente a supportare i requisiti organizzativi di business e processo sopracitati.</p>
<div class="ulist">
<ul>
<li>
<p>Un Ordine CORE:</p>
<div class="ulist">
<ul>
<li>
<p>Modello di Dati, un set di elementi che la parte ricevente DEVE essere in grado di processare.</p>
</li>
<li>
<p>Regole di Business, un set di regole di business che assicurano una modalità comune di processare gli elementi informativi. Le rules sono espresso in modo da permettere la validazione automatica delle istanze dei documenti di business. Le parti emittenti e riceventi possono verificare che i documenti scambiati sono conformi alle regole di questo BIS. PEPPOL aggiunge delle regole di business a quelle del modello di dati per chiarire certe casistiche lasciate aperte dal CEN BII.Queste scelte sono intese a diminuire la soglia di implementazione limitando le opzioni disponibili agli implementatori e quindi incrementando l’interoperabilità dei documenti PEPPOL.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Interoperabilità tecnica </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Interazione tecnica (Implementazione semantica e di processo):</p>
<div class="ulist">
<ul>
<li>
<p>Implementata sulla sintassi OASIS UBL 2.1, vedi <a href="http://docs.oasis-open.org/ubl/UBL-2.1.html">UBL 2.1</a></p>
</li>
<li>
<p>ISO/IEC 19757-3 Schematron, per l’automazione della validazione semantica dei documenti, vedi <a href="../../attachments/Schematron.zip">Schematron</a>.</p>
</li>
<li>
<p>Fogli di stile XSLT per la presentazione dei contenuti, <a href="https://intercenter.regione.emilia-romagna.it/noti-er-fatturazione-elettronica/specifiche-tecniche/fogli-di-stile/fogli-di-stile">XSLT</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Interazione tecnica (Validazione eSignature):</p>
<div class="ulist">
<ul>
<li>
<p>Non obbligatoria in questo PEPPOL BIS. Non supportata.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tecnica di trasporto:</p>
<div class="ulist">
<ul>
<li>
<p>Infrastruttura di Trasporto PEPPOL (BusDox 1.0).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truerequisiti-pa"><a class="anchor" href="#truerequisiti-pa"></a>3. Requisiti PA</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="truecomunicazione-codice-ipa"><a class="anchor" href="#truecomunicazione-codice-ipa"></a>3.1. Comunicazione Codice IPA</h3>
<div class="paragraph">
<p>I fornitori delle pubbliche amministrazioni italiane che ricevono gli ordini elettronici PEPPOL redatti secondo questa specifica devono trovare nell’ordine l’identificativo <a href="http://www.indicepa.gov.it">IPA</a> dell’Ufficio Fatturazione Elettronica dell’Autorità Appaltante che lo emette o dell’intestatario fattura.</p>
</div>
<div class="paragraph">
<p>Lo scopo è quello di comunicare al fornitore l’identificativo IPA da indicare successivamente in fattura.</p>
</div>
<div class="paragraph">
<p>L’identificativo può essere specificato nei seguenti modi:</p>
</div>
<div class="paragraph">
<p><strong>1.</strong> Obbligatoriamente in cac:BuyerCustomerParty, come parte ordinante:</p>
</div>
<div class="paragraph">
<p><strong>a.</strong> Se l’Autorità Appaltante è identificata in PEPPOL con il codice UFE IPA stesso (ID Partecipante nei registri SMP), deve essere indicato l’Identificativo IPA come endpoint (cac:EndpointID)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:BuyerCustomerParty&gt;
    &lt;cac:Party&gt;
        &lt;cbc:EndpointID schemeID="9921"&gt;ABCDEF&lt;/cbc:EndpointID&gt;
    …
    &lt;/cac:Party&gt;
&lt;/cac:BuyerCustomerParty&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>b.</strong> E’ facoltativo fornire l’ID IPA nel cac:PartyIdentification/cbc:ID</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs"> &lt;cac:BuyerCustomerParty&gt;
     &lt;cac:Party&gt;
         &lt;cbc:EndpointID schemeID="9921"&gt;ABCDEF&lt;/cbc:EndpointID&gt;
         &lt;cac:PartyIdentification&gt;
             &lt;cbc:ID schemeID="9921"&gt;ABCDEF&lt;/cbc:ID&gt;
         &lt;/cac:PartyIdentification&gt;
     …
     &lt;/cac:Party&gt;
 &lt;/cac:BuyerCustomerParty&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>2.</strong> Opzionalmente in cac:AccountingCustomerParty, qualora l&#8217;intestatario fattura sia diverso dall’acquirente (BuyerCustomerParty), all’interno di cac:PartyIdentification/cbc:ID</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AccountingCustomerParty&gt;
    &lt;cac:Party&gt;
        &lt;cac:PartyIdentification&gt;
            &lt;cbc:ID schemeID="9921"&gt;ABCDEF&lt;/cbc:ID&gt;
        &lt;/cac:PartyIdentification&gt;
        …
    &lt;/cac:Party&gt;
&lt;/cac:AccountingCustomerParty&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueregole-di-business-italiane"><a class="anchor" href="#trueregole-di-business-italiane"></a>4. Regole di business italiane</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trueregole-di-business-per-lordine"><a class="anchor" href="#trueregole-di-business-per-lordine"></a>4.1. Regole di business per l&#8217;ordine</h3>
<table class="tableblock frame-topbot grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 62.5%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Identificatore</th>
<th class="tableblock halign-left valign-top">Regola di Business</th>
<th class="tableblock halign-left valign-top">Livello di errore</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un elemento informativo base, se istanziato, non può essere vuoto.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R002</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;ordine DEVE contenere il nome, il paese e l&#8217;identificativo fiscale della parte ordinane (Acquirente).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se il prezzo e il totale riga d&#8217;ordine sono presenti, il totale riga DEVE essere ottenuto moltiplicando il prezzo per la quantità diviso la quantità base a cui si riferisce il prezzo e includendo l&#8217;eventuale sconto o maggiorazione indicati.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R026</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se l&#8217;identificatore di endpoint si basa sullo schema di identificatori IT:IPA (ICD: 9921), questo dovrà seguire la sintassi [A-Z0-9]{6,7}.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R027</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se l&#8217;identificatore di endpoint si basa sullo schema di identificatori IT:VAT (ICD: 9906), questo dovrà seguire la sintassi (IT)?[0-9]{11}.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R028</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se l&#8217;identificatore di endpoint si basa sullo schema di identificatori IT:CF (ICD: 9907), questo dovrà seguire la sintassi [0-9]{11} per le persone giuridiche e la sintassi [A-Z]{6}\d{2}[ABCDEHLMPRST]{1}\d{2}[A-Z]{1}\d{3}[A-Z]{1} per quelle fisiche.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R029</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Il Codice Identificativo Gara (CIG) deve essere sempre indicato in testata all&#8217;Ordine o a livello di riga.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R032</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un ordine deve riportare obbligatoriamente un solo identificatore della parte di business (Endpoint) del Buyer. Nel caso di Buyer di tipo PA deve riportare lo schema IPA.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R033</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un ordine DEVE contenere Il codice UFE IPA dell&#8217;ufficio della PA che lo ha emesso, composto da 6 caratteri ASCII alfanumerici.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R034</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nel caso in cui l&#8217;ordine contenga il riferimento ad un solo ordine: per comunicare la cancellazione, è obbligatorio fornire una sola riga d&#8217;ordine con identificativo valorizzato a 'NA', quantità e totale riga posti a zero e nome articolo posto a N/A.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R035</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nel caso in cui l&#8217;ordine contenga il riferimento ad un solo ordine: per comunicare la revisione è obbligatorio fornire una o più righe d&#8217;ordine con identificativo diverso da 'NA'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R036</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un ordine DEVE contenere il codice destinatario del fornitore, composto da 7 caratteri ASCII alfanumerici.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R037a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E' stato fornito un codice CIG invalido (NNNNNNN errato).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R037b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E' stato fornito un codice CIG invalido (KKK errato).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R037c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E' stato fornito un codice SmartCIG invalido (CCCCCCC errato).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R037d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E' stato fornito un codice SmartCIG invalido (KK errato).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T01-R037e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E' stato fornito un codice di esclusione CIG invalido (ES## non è fra ES01-ES27).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
</tfoot>
</table>
</div>
<div class="sect2">
<h3 id="trueregole-di-business-per-la-risposta-dordine"><a class="anchor" href="#trueregole-di-business-per-la-risposta-dordine"></a>4.2. Regole di business per la risposta d&#8217;ordine</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 57.1428%;">
<col style="width: 28.5715%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Identificatore</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regola di Business</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Livello di Errore</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T76-R001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un elemento informativo base, se istanziato, non può essere vuoto.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T76-R004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se il codice di risposta in testata è 27 (rifiutato) non deve essere fornita alcuna riga di dettaglio.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T76-R005</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se il codice di risposta in testata è 29 (accettato) non deve essere fornita alcuna riga di dettaglio.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T76-R006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Se il codice di risposta in testata è 30 (accettato con modifiche) e necessario fornire tutte le righe dell&#8217;ordine con il relativo stato.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T76-R007</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Una risposta d&#8217;ordine DEVE contenere Il codice UFE IPA dell&#8217;ufficio della PA che ha emesso l&#8217;ordine, composto da 6 a 7 caratteri ASCII alfanumerici maiuscoli.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T76-R010</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La risposta d’ordine in caso di rigetto o modifica DEVE specificarne il motivo.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT-T76-R012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nelle informazioni di Delivery in testata o dettaglio il PromisedDeliveryPeriod DEVE essere valorizzato e la data di inizio deve essere inferiore o uguale quella di fine periodo.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprocessi-e-casi-duso-tipici"><a class="anchor" href="#trueprocessi-e-casi-duso-tipici"></a>5. Processi e casi d’uso tipici</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Il profilo del processo dell’ordine di fornitura include l’invio di ordini tra la parte Acquirente e il Venditore e la risposta del Venditore.</p>
</div>
<div class="sect2">
<h3 id="trueflusso-del-processo"><a class="anchor" href="#trueflusso-del-processo"></a>5.1. Flusso del processo</h3>
<div class="paragraph">
<p>Il flusso del processo dell’Ordine di fornitura e della risposta può essere descritto come segue:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Un Acquirente invia l’Ordine al Venditore richiedendo la consegna di merce o servizi</p>
</li>
<li>
<p>Un Ordine può fare riferimento ad un accordo quadro per quanto concerne i termini e le condizioni (altrimenti si applicano quelli dell’Acquirente);</p>
</li>
<li>
<p>Un Ordine può contenere voci  (merce o servizi) espresso mediante identificatori o descrizioni testuali;</p>
</li>
<li>
<p>Il venditore può confermare che l’ordine è stato ricevuto;</p>
</li>
<li>
<p>Il Venditore può accettare l’Ordine, impegnandosi alle condizioni indicate mediante la transazione della Risposta d’Ordine.</p>
</li>
<li>
<p>Alternativamente, il Venditore può respingere l’Ordine attraverso la transazione della Risposta d’Ordine.</p>
</li>
<li>
<p>Il rigetto di un Ordine può contenere le ragioni del rigetto.</p>
</li>
<li>
<p>Se pattuito contrattualmente, il Venditore può inoltre rispondere all’ordine, modificando dettagli che siano accettabili dall’Acquirente.</p>
</li>
<li>
<p>Se l’Ordine è sttao accettato o accettato con modifiche, un contratto è concluso.  Se l’Ordine è stato respinto, nessun contratto e nessuna obbligazione residuale avrà luogo.</p>
</li>
<li>
<p>Dopo la ricezione della Risposta d’Ordine che respinge l’Ordine, l’Acquirente può iniziare un nuovo processo di ordine, tenendo conto dei motivi del rigetto da parte del Venditore.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="truerequisiti-dei-processi-di-business"><a class="anchor" href="#truerequisiti-dei-processi-di-business"></a>5.2. Requisiti dei processi di business</h3>
<div class="paragraph">
<p>Un Venditore può:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>accettare l’Ordine interamente;</p>
</li>
<li>
<p>respingere l’intero Ordine;</p>
</li>
<li>
<p>accettare l’Ordine parzialmente, se esiste un contratto in essere con l&#8217;acquirente su come stabilire il cambiamento della convenzione;</p>
</li>
<li>
<p>accettare l’Ordine con modifiche;</p>
</li>
<li>
<p>avere diverse risposte d’ordine per il medesimo ordine;</p>
</li>
<li>
<p>avere Una risposta d’ordine che farà riferimento ad un solo ordine.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="truediagramma-del-processo-di-business"><a class="anchor" href="#truediagramma-del-processo-di-business"></a>5.3. Diagramma del processo di business</h3>
<div class="sect3">
<h4 id="truelegenda-per-i-diagrammi-bpmn"><a class="anchor" href="#truelegenda-per-i-diagrammi-bpmn"></a>5.3.1. Legenda per i diagrammi BPMN</h4>
<div class="paragraph">
<p>I diagrammi sono espressi nella notazione BPMN. Il diagramma sottostante serve come spiegazione dei diagrammi utilizzati successivamente nella descrizione del processo.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/fig3.jpg" alt="fig3">
</div>
<div class="title">Figure 2. BPMN Legenda</div>
</div>
<div class="paragraph">
<p>Il diagramma seguente mostra la coreografia del processo di business implementato da questo profilo d’uso.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/fig4_ordering.jpg" alt="fig4 ordering">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecaso-duso-1-risposta-allordine-di-fornitura-su-articoli-numerati"><a class="anchor" href="#truecaso-duso-1-risposta-allordine-di-fornitura-su-articoli-numerati"></a>5.4. Caso d’uso 1 – Risposta all’ordine di fornitura su articoli numerati</h3>
<div class="paragraph">
<p>Questo caso d’uso è relativo a un ordine composto da voci/articoli numerati con parziale accettazione e sua risposta.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caso d&#8217;uso nr.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">  1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Nome</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordine con articoli numerati</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un ordine di articoli numerati.</p>
<p class="tableblock">L’ordine indica al venditore l’indirizzo di consegna. Il venditore consegna solo una parte degli articoli richiesti.</p>
<p class="tableblock">Un articolo deve essere sostituito.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Parti coinvolte</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acquirente e Venditore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Assunzioni</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente ha a disposizione un catalogo o una lista di prodotti per effettuare l’ordine. Il catalogo contiene gli identificativi degli articoli, nomi e unità di misura.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Il flusso</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente crea l’ordine con 3 diverse righe ed articoli.
Il Venditorericeve l&#8217;ordine.</p>
<p class="tableblock">- Accetta di consegnare un articolo.</p>
<p class="tableblock">- Respinge un articolo.</p>
<p class="tableblock">- Sostituisce un articolo.</p>
<p class="tableblock">La risposta all’ordine deve inviare tutte le righe presenti nell’ordine, inserendo per l’ultima riga la sostituzione dell’articolo. L’articolo respinto deve avere la motivazione di rigetto.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risultati</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente e il venditore hanno raggiunto un accordo.  L’acquirente ha aggiornato le informazioni dell’ordine in base alla risposta d’ordine. Se la fattura ha un riferimento all’ordine, questa potrà essere riconciliata automaticamente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio XML</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vedi <a href="../../attachments/Intercent-ER-Esempi-Xml-Peppol-3.zip">Esempi XML</a> <em>compatibili con NSO</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="truecaso-duso-2-risposta-allordine-di-fornitura-con-articoli-e-un-allegato"><a class="anchor" href="#truecaso-duso-2-risposta-allordine-di-fornitura-con-articoli-e-un-allegato"></a>5.5. Caso d’uso 2 – Risposta all’ordine di fornitura con articoli e un allegato</h3>
<div class="paragraph">
<p>Questo caso d’uso è relativo a un ordine composto da articoli e un allegato.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caso d&#8217;uso nr.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Nome</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordine con articoli e un allegato</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un ordine con unità/articoli descritti in modo strutturati. È presente un allegato.</p>
<p class="tableblock">Il venditore risponde con le denominazioni degli articoli appropriate.</p>
<p class="tableblock">Tutte le righe vengono accettate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Parti coinvolte</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acquirente, Venditore e Committente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Assunzioni</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente non ha informazioni strutturate sugli articoli. L’acquirente deve specificare gli articoli in modo da assicurare che il venditore possa identificare gli articoli richiesti in modo appropriato.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Il flusso</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente crea l’ordine con 2 diverse righe e articoli. Il venditore riceve l&#8217;ordine.</p>
<p class="tableblock">- Accetta di consegnare tutti gli articoli;</p>
<p class="tableblock">L&#8217;ordine è stato accettato senza modifiche. Nessuna riga deve essere inviata nella risposta all&#8217;ordine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risultati</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente e il venditore hanno raggiunto un accordo.  L’acquirente ha aggiornato le informazioni dell’ordine in base alla risposta d’ordine. Se la fattura contiene il riferimento all’ordine, questa potrà essere riconciliata automaticamente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio XML</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vedi <a href="../../attachments/Intercent-ER-Esempi-Xml-Peppol-3.zip">Esempi XML</a> <em>compatibili con NSO</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="truecaso-duso-3-risposta-allordine-di-fornitura-per-i-servizi"><a class="anchor" href="#truecaso-duso-3-risposta-allordine-di-fornitura-per-i-servizi"></a>5.6. Caso d’uso 3 – Risposta all’ordine di fornitura per i servizi</h3>
<div class="paragraph">
<p>Questo caso d’uso è relativo a un ordine sui servizi e risposta con rigetto.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caso d&#8217;uso nr.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Nome</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordine servizi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un ordine per servizi di traduzione.</p>
<p class="tableblock">Il luogo di consegna e il periodo sono specificati.</p>
<p class="tableblock">Il venditore respinge l’ordine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Parti coinvolte</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acquirente, Venditore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Assunzioni</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente utilizza un modulo con una serie di proprietà predefinite e concordate per ordinare il servizio.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Il flusso</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente crea l’ordine di una sola riga richiedendo dei servizi di traduzione dallo Svedese allo Spagnolo.</p>
<p class="tableblock">Il venditore rifiuta l’ordine. Nessuna riga deve essere inviata ma deve avere la motivazione del rigetto nella risposta all’ordine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risultati</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente e il venditore non hanno raggiunto un accordo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio XML</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vedi <a href="../../attachments/Intercent-ER-Esempi-Xml-Peppol-3.zip">Esempi XML</a> <em>compatibili con NSO</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="truecaso-duso-4-risposta-ad-un-ordine-di-fornitura-complesso"><a class="anchor" href="#truecaso-duso-4-risposta-ad-un-ordine-di-fornitura-complesso"></a>5.7. Caso d’uso 4 – Risposta ad un ordine di fornitura complesso</h3>
<div class="paragraph">
<p>Questo caso d’uso è relativo a un ordine contenente quasi tutti gli elementi previsti per il messaggio dell’Ordine PEPPOL. L’ordine viene accettato completamente dal venditore.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caso d&#8217;uso nr.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Nome</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordine complesso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un ordine di articoli numerati con sconti e maggiorazioni sia a livello di testata che di riga e prezzo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Parti coinvolte</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acquirente, Venditore e Committente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Assunzioni</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente ha a disposizione un catalogo o una lista di prodotti per effettuare l’ordine. Il catalogo contiene gli identificativi degli articoli, nomi e unità di misura. L’acquirente ha stretto uno speciale accordo con il venditore relativamente ad uno sconto sull’ordine, le righe d’ordine e sul prezzo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Il flusso</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente crea l’ordine con 4 diverse righe e articoli.
Il venditore accetta di consegnare tutti e 4 gli articoli.</p>
<p class="tableblock">L’ordine è stato accettato senza modifiche. Nessuna riga deve essere inviata nella risposta all’ordine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Risultati</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’acquirente e il venditore hanno raggiunto un accordo. L’acquirente ha aggiornato le informazioni dell&#8217;ordine in base alla risposta d’ordine. Se la fattura contiene il riferimento all’ordine, questa può essere correlata automaticamente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio XML</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vedi <a href="../../attachments/Intercent-ER-Esempi-Xml-Peppol-3.zip">Esempi XML</a> <em>compatibili con NSO</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truesemantica-della-tipologia-di-dati-semantic-datatype"><a class="anchor" href="#truesemantica-della-tipologia-di-dati-semantic-datatype"></a>6. Semantica della tipologia di dati (Semantic datatype)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La semantica della tipologia di dati viene utilizzata per colmare il divario tra i concetti semantici espressi dagli elementi informativi e l&#8217;implementazione tecnica. La semantica della tipologia di dati definisce il dominio dei valori consentiti e qualsiasi componente aggiuntiva di informazioni (attributi), necessari a garantire una corretta interpretazione.</p>
</div>
<div class="sect2">
<h3 id="truetipi-primitivi"><a class="anchor" href="#truetipi-primitivi"></a>6.1. Tipi primitivi</h3>
<div class="paragraph">
<p>Il contenuto semantico della tipologia di dati può essere espresso tra le seguenti tipologie primitive. I tipi primitivi sono stati definiti dalla normativa <a href="https://www.iso.org/standard/61433.html">ISO 15000-5:2014</a>, Annex A.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Definizione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Binario</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un insieme di sequenze a lunghezza finita di cifre binarie</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Data</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time point rappresenta un giorno di calendario su una scala temporale formata da una data iniziale ed una successione di calendario <a href="https://www.iso.org/standard/40874.html">ISO 8601:2004</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Decimale</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un sottoinsieme di numeri reali che può essere rappresentato da numeri decimali</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Stringa</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Una sequenza finita di caratteri</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="truesemantica-della-tipologia-di-dati"><a class="anchor" href="#truesemantica-della-tipologia-di-dati"></a>6.2. Semantica della tipologia di dati</h3>
<div class="paragraph">
<p>Le differenze semantiche della tipologia di dati sono descritte nelle tabelle riportate di seguito, dove vengono denotate le diverse caratteristiche: attributo, formato ed ordine di grandezza decimale. Viene fatto riferimento alla normativa <a href="https://www.iso.org/standard/61433.html ">ISO 15000-5: 2014</a>.
Quando si utilizza un documento d’istanza, ciascun elemento di dati contiene i dati. Nelle tabelle di seguito riportate, viene identificato come il “contenuto”. Ogni volta che viene utilizzato questo termine di business, esso deve essere necessariamente presente nel contenuto poiché è sempre obbligatorio.</p>
</div>
<div class="sect3">
<h4 id="trueimporto"><a class="anchor" href="#trueimporto"></a>6.2.1. Importo</h4>
<div class="paragraph">
<p>Un importo indica un valore numerico monetario. La valuta dell’importo è definito come un termine finanziario distinto.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>L’importo viene espresso come numero con al più due cifre decimali</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10000.25</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="trueimporto-del-prezzo"><a class="anchor" href="#trueimporto-del-prezzo"></a>6.2.2. Importo del prezzo</h4>
<div class="paragraph">
<p>Un importo del prezzo indica un valore numerico monetario per gli elementi di dati che contengono i prezzi degli articoli che possono essere moltiplicati per le loro quantità. La valuta dell’importo è definito come un termine finanziario distinto.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>L’importo unitario del prezzo non impone restrizioni sul numero di cifre decimali utilizzate, a differenza della tipologia definita precedente (Importo).</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10000.12345</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="truepercentuale"><a class="anchor" href="#truepercentuale"></a>6.2.3. Percentuale</h4>
<div class="paragraph">
<p>Le percentuali sono date come frazioni centesimali (%) cioè il valore di 34,78 % in termini percentuali è dato come 34,78.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Nessuna restrizione sul numero di cifre decimali utilizzate per le percentuali</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34.7812</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="truequantità"><a class="anchor" href="#truequantità"></a>6.2.4. Quantità</h4>
<div class="paragraph">
<p>Le quantità vengono utilizzate per indicare un numero unitario per gli articoli. Il codice per l’unità di misura è definito come un termine finanziario distinto.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Nessuna restrizione sul numero di cifre decimali utilizzate per le quantità</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10000.1234</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="truecodifiche"><a class="anchor" href="#truecodifiche"></a>6.2.5. Codifiche</h4>
<div class="paragraph">
<p>Le codifiche vengono utilizzate per specificare i valori consentiti degli elementi e per le codifiche di riferimento. Il codice è differente dall’identificatore in quanto i valori consentiti hanno significati standardizzati che possono essere riconosciuti dal destinatario.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>I codici devono essere inseriti esattamente come indicato nella codifica di riferimento selezionata</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abc123</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="trueidentificatore"><a class="anchor" href="#trueidentificatore"></a>6.2.6. Identificatore</h4>
<div class="paragraph">
<p>Gli identificatori (IDs) vengono emessi dal mittente o dal destinatario di un documento o da una terza parte.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>L’utilizzo degli attributi è specificato per ogni elemento informativo.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abc:123-DEF</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Schema identificatore</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Facoltativo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stringa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GLN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Versione schema identificatore</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Facoltativo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stringa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="truedata"><a class="anchor" href="#truedata"></a>6.2.7. Data</h4>
<div class="paragraph">
<p>La data deve essere conforme alla rappresentazione completa del calendario come specificato dalla normativa <a href="https://www.iso.org/standard/40874.html ">ISO 8601:2004</a>, formato YYYY-MM-DD.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le date non devono includere informazioni sul fuso orario</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2017-12-01</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="trueora"><a class="anchor" href="#trueora"></a>6.2.8. Ora</h4>
<div class="paragraph">
<p>L’ora deve essere conforme al formato orario esteso come specificato dalla normativa <a href="https://www.iso.org/standard/40874.html ">ISO 8601:2004</a>, formato [hh]:[mm]:[ss].</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Il tempo non deve includere informazioni sul fuso orario. La frazione decimale sui secondi non deve essere utilizzata.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">09:30:12</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="truedocumento-referenziato"><a class="anchor" href="#truedocumento-referenziato"></a>6.2.9. Documento referenziato</h4>
<div class="paragraph">
<p>I tipi di documento referenziato sono identificatori che sono stati assegnati ad un documento o ad una riga di documenti.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stringa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abc:123-DEF</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="truetesto"><a class="anchor" href="#truetesto"></a>6.2.10. Testo</h4>
<div class="paragraph">
<p>Il testo è la formulazione di qualsiasi contenuto redatto o stampato. Potrebbero essere presenti dei troncamenti nel testo, qualsiasi troncamento dovrebbe essere preservato e rispettato dal sistema ricevente.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stringa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5% di tolleranza se pagato entro 30 giorni</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="trueoggetti-binari"><a class="anchor" href="#trueoggetti-binari"></a>6.2.11. Oggetti binari</h4>
<div class="paragraph">
<p>Gli oggetti binari possono essere utilizzati per descrivere i file che vengono trasmessi unitamente al documento di business. Gli allegati devono essere trasmessi insieme al documento di business. L’oggetto binario presenta due codici supplementari: un codice MIME il quale specifica il tipo MIME dell’allegato ed una denominazione del file fornito dal (o per conto del) mittente del documento di business.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QmFzZTY0IGNvbnRlbnQgZXhhbXBsZQ==</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Codice MIME</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stringa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image/jpeg</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Nome file</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stringa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">drawing5.jpg</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="truebooleani"><a class="anchor" href="#truebooleani"></a>6.2.12. Booleani</h4>
<div class="paragraph">
<p>Gli indicatori booleani vengono utilizzati per specificare i due valori consentiti, vero o falso. Tutti gli elementi di tipo booleano, devono avere come valore vero oppure falso.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Componente</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Utilizzo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo primitivo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contenuto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obbligatorio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stringa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecodifiche-di-riferimento"><a class="anchor" href="#truecodifiche-di-riferimento"></a>7. Codifiche di riferimento</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="truecodifiche-di-riferimento-per-elementi-codificati"><a class="anchor" href="#truecodifiche-di-riferimento-per-elementi-codificati"></a>7.1. Codifiche di riferimento per elementi codificati</h3>
<div class="paragraph">
<p>Qualsiasi elemento semantico della tipologia dei dati, può richiedere l’utilizzo di una codifica di riferimento specifica (o un valore fissato).</p>
</div>
<div class="paragraph">
<p>Nelle <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO è possibile trovare i codici validi, i loro nomi e la descrizione.</p>
</div>
</div>
<div class="sect2">
<h3 id="truetipologia-dellordine"><a class="anchor" href="#truetipologia-dellordine"></a>7.2. Tipologia dell&#8217;ordine</h3>
<div class="paragraph">
<p>La tipologia dell’Ordine può essere espressa utilizzando le seguenti codifiche ufficiali disponibili nel package UBL.</p>
</div>
<div class="paragraph">
<p>Per identificare il tipo di ordine si usa un «subset» della codifica ufficiale UNCL 1001. Si riporta di seguito il subset denominato «OrderTypeCode IT» definito da PEPPOL ed esteso al modello italiano di procurement (vedi, <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle" colspan="2"><strong>Tipo ordine</strong></th>
<th class="tableblock halign-center valign-middle" colspan="2"><strong>Sotto-tipo ordine</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Codice</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Codice</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><strong>220</strong></p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Ordine di Acquisto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OF</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordine di fatturazione per prodotti già consumati</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OFR</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordine di fatturazione e reintegro</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><strong>227</strong></p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">Ordine di consegna</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CD</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conto deposito</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CV</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conto visione</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CG</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comodato gratuito</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note per l&#8217;utilizzo delle diverse tipologie d&#8217;ordine:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>220</strong> (Ordine di acquisto): corrisponde a un generico ordine di acquisto che può essere utilizzato sia per beni sia per servizi, con o senza emissione del relativo DDT. Sono inclusi gli ordini per l’acquisto di beni a scorta, gli ordini per l’acquisto di prodotti in transito ovvero prodotti che non vengono stoccati, gli ordini per l’invio di apparecchiature in riparazione e gli ordini di apparecchiature e beni di noleggio con canone. Può essere fornito un ulteriore dettaglio dell’ordine di acquisto usando i seguenti sottotipi:</p>
<div class="ulist">
<ul>
<li>
<p><strong>OF</strong> (Ordine di fatturazione per prodotti già consumati): nella gestione dei beni acquisiti attraverso modalità di conto visione (ad esempio, dispositivi medici impiantabili gestiti direttamente da sala operatoria) l’ordine di fatturazione è utilizzato per autorizzare la fatturazione dei soli beni effettivamente trattenuti e quindi consumati. Inoltre, nell’ambito del conto deposito l’ordine di fatturazione è utilizzato per autorizzare la fatturazione di beni in conto deposito per i quali non si richiede il ripristino contestuale. Al codice 220#OF possono essere ricondotti in generale tutti gli ordini che riguardano la sola fatturazione di beni già consumati, per i quali il fornitore non deve effettuare una nuova consegna. L’ordine di tipo 220#OF riporta i riferimenti (in specifici campi) di Lotto, N. Seriale, Numero e data DDT di consegna dei prodotti utilizzati;</p>
</li>
<li>
<p><strong>OFR</strong> (Ordine di fatturazione e reintegro): la gestione delle scorte in conto deposito prevede normalmente una quantità di riordino prestabilita per ogni prodotto per mantenere le scorte minime necessarie. L’ordine di fatturazione e ripristino è utilizzato con la finalità di autorizzare il fornitore alla fatturazione di quanto consumato e per reintegrare il deposito del fornitore presso l’azienda cliente. Non è a intervalli regolari ma avviene ad ogni utilizzo. Nell’ambito del Conto Deposito non è previsto l’ordine di solo ripristino. L’ordine di tipo 220#OFR è utilizzato anche per tutti i beni acquistati con fatturazione a referto, kit, test o validazione. L’ordine di tipo 220#OFR riporta i riferimenti (in specifici campi) di Lotto, N. Seriale, Numero e data DDT di consegna dei prodotti utilizzati.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>227</strong> (Ordine di consegna): corrisponde all’ordine di materiali che non contempla una fatturazione se non dopo l’utilizzo degli stessi e a seguito di specifico ordine tipo 220. Può essere fornito un ulteriore dettaglio dell’ordine di consegna usando i seguenti sottotipi ordine:</p>
<div class="ulist">
<ul>
<li>
<p><strong>CD</strong> (Conto deposito) vale per l’ordine di beni in conto deposito;</p>
</li>
<li>
<p><strong>CV</strong> (Conto visione) vale per l’ordine di beni in conto visione;</p>
</li>
<li>
<p><strong>CG</strong> (Comodato d’uso gratuito): corrisponde ad un ordine di materiale o apparecchiature in comodato d’uso senza fatturazione.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Vedi <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO.</p>
</div>
</div>
<div class="sect2">
<h3 id="truecodifica-di-riferimento-per-identificatori"><a class="anchor" href="#truecodifica-di-riferimento-per-identificatori"></a>7.3. Codifica di riferimento per identificatori</h3>
<div class="sect3">
<h4 id="trueidentificatori-delle-parti-e-schema-identificatore-delle-parti-legali-registrate"><a class="anchor" href="#trueidentificatori-delle-parti-e-schema-identificatore-delle-parti-legali-registrate"></a>7.3.1. Identificatori delle parti e schema identificatore delle parti legali registrate</h4>
<div class="paragraph">
<p>Tutti gli identificatori delle parti (cac:PartyIdentification/cbc:ID) e gli identificatori delle parti legali registrate (cac:PartyLegalEntity/cbc:CompanyID) hanno uno schema identificatore facoltativo dell’attributo (@schemeID). Se utilizzato, il valore deve essere scelto tra i codici presenti nella ICD list, <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di utilizzo cac:PartyIdentification</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cac:PartyIdentification&gt;
     &lt;cbc:ID schemeID="0088"&gt;5790000435968&lt;/cbc:ID&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;/cac:PartyIdentification&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>L’attributo schemeID è facoltativo, se utilizzato, i codici devono essere presenti nella ICD list, <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="trueidentificativo-dello-schema-identificatore-dellindirizzo-elettronico"><a class="anchor" href="#trueidentificativo-dello-schema-identificatore-dellindirizzo-elettronico"></a>7.3.2. Identificativo dello schema identificatore dell’indirizzo elettronico</h4>
<div class="paragraph">
<p>Tutti gli identificatori degli indirizzi elettronici (cbc:EndpointID/@schemeID) utilizzano una codifica di riferimento che deve essere gestita direttamente da CEF.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Questa codifica di riferimento non è ancora disponibile. Utilizzare la PEPPOL policy per gli identificatori fino a quando la codifica di riferimento non sarà resa disponibile.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Esempio di utilizzo cbc:EndpointID</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cbc:EndpointID schemeID="9906"&gt;IT01234567890&lt;/cbc:EndpointID&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>L’attributo schemeID è obbligatorio</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truedescrizione-di-parti-selezionate-del-messaggio-dellordine"><a class="anchor" href="#truedescrizione-di-parti-selezionate-del-messaggio-dellordine"></a>8. Descrizione di parti selezionate del messaggio dell’ordine</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="trueparti-di-business"><a class="anchor" href="#trueparti-di-business"></a>8.1. Parti di business</h3>
<div class="paragraph">
<p>Le seguenti parti/ruoli possono essere specificate nel messaggio:</p>
</div>
<div class="sect3">
<h4 id="truevenditore-sellersupplierparty"><a class="anchor" href="#truevenditore-sellersupplierparty"></a>8.1.1. Venditore (SellerSupplierParty)</h4>
<div class="paragraph">
<p>Il venditore è la persona giuridica che agisce per conto del fornitore e che vende la merce o i servizi all’acquirente. Il venditore è obbligatorio in quanto destinatario dell’ordine PEPPOL, pertanto si raccomanda di includere l’EndpointID (ID partecipante) con il quale è registrato su PEPPOL.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di Informazioni del venditore</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:SellerSupplierParty&gt;
    &lt;cac:Party&gt;
	 &lt;cbc:EndpointID schemeID="9906"&gt;IT01234567890&lt;/cbc:EndpointID&gt;
	 &lt;cac:PartyIdentification&gt;
	 	&lt;cbc:ID schemeID="9906"&gt;IT01234567890&lt;/cbc:ID&gt;
	 &lt;/cac:PartyIdentification&gt;
	 &lt;cac:PartyName&gt;
	 	&lt;cbc:Name&gt;Venditore S.p.A.&lt;/cbc:Name&gt;
	 &lt;/cac:PartyName&gt;
	 &lt;cac:PostalAddress&gt;
	 	&lt;cbc:StreetName&gt;Indirizzo Riga 1&lt;/cbc:StreetName&gt;
	 	&lt;cbc:AdditionalStreetName&gt;Indirizzo Riga 2&lt;/cbc:AdditionalStreetName  &gt;
	 	&lt;cbc:CityName&gt;Bologna&lt;/cbc:CityName&gt;
	 	&lt;cbc:PostalZone&gt;40121&lt;/cbc:PostalZone&gt;
	 	&lt;cbc:CountrySubentity&gt;BO&lt;/cbc:CountrySubentity &gt;
	 	&lt;cac:AddressLine&gt;
	 		&lt;cbc:Line&gt;Zona Savena&lt;/cbc:Line&gt;
	 	&lt;/cac:AddressLine&gt;
	 	&lt;cac:Country&gt;
	 	&lt;cbc:IdentificationCode listID="ISO3166-1:Alpha2"&gt;IT&lt;/cbc:IdentificationCode&gt;
	 	&lt;/cac:Country&gt;
	 &lt;/cac:PostalAddress&gt;
	 &lt;cac:PartyLegalEntity&gt;
	 	&lt;cbc:RegistrationName&gt;Azienda Venditore&lt;/cbc:RegistrationName&gt;
	 	&lt;cbc:CompanyID schemeID="ZZZ"&gt;00000&lt;/cbc:CompanyID&gt;
	 	&lt;cac:RegistrationAddress&gt;
	 		&lt;cbc:CityName&gt;Bologna&lt;/cbc:CityName&gt;
	 		&lt;cac:Country&gt;
            &lt;cbc:IdentificationCode listID="ISO3166-1:Alpha2"&gt;IT&lt;/cbc:IdentificationCode&gt;
	 		&lt;/cac:Country&gt;
	 	&lt;/cac:RegistrationAddress&gt;
	 &lt;/cac:PartyLegalEntity&gt;
	 &lt;cac:Contact&gt;
	 	&lt;cbc:Name&gt;Lucio Grande&lt;/cbc:Name&gt;
	 	&lt;cbc:Telephone&gt;051102030&lt;/cbc:Telephone&gt;
	 	&lt;cbc:ElectronicMail&gt;lucio.grande@venditore.it&lt;/cbc:ElectronicMail&gt;
	 &lt;/cac:Contact&gt;
    &lt;/cac:Party&gt;
&lt;/cac:SellerSupplierParty&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueacquirente-buyercustomerparty"><a class="anchor" href="#trueacquirente-buyercustomerparty"></a>8.1.2. Acquirente (BuyerCustomerParty)</h4>
<div class="paragraph">
<p>L’acquirente è la persona giuridica che agisce per conto del cliente e che acquista la merce o i servizi. L’acquirente è obbligatorio in quanto mittente del messaggio dell’ordine PEPPOL, pertanto si raccomanda di includere l’EndpointID (ID partecipante) con il quale è registrato in PEPPOL.
Il nome e l’identificativo fiscale dell’acquirente sono inoltre un requisito di questa implementazione per permettere all’access point di identificare ed autorizzare il mittente all’inoltro dell’ordine sulla rete (INT-T01-R002).
Il campo “PartyIdendification/ID” è obbligatorio e deve essere presente con una sola istanza (molteplicità = 1), in quanto si tratta di uno dei tre elementi che identificano univocamente il Messaggio nel NSO.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di informazioni dell&#8217;acquirente</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:BuyerCustomerParty&gt;
&lt;cac:Party&gt;
	&lt;cbc:EndpointID schemeID="9921"&gt;ABCDEF&lt;/cbc:EndpointID&gt;
	&lt;cac:PartyIdentification&gt;
		&lt;cbc:ID schemeID="9921"&gt;ABCDEF&lt;/cbc:ID&gt;
	&lt;/cac:PartyIdentification&gt;
	&lt;cac:PartyName&gt;
		&lt;cbc:Name&gt;Acquirente Pubblico S.p.A.&lt;/cbc:Name&gt;
	&lt;/cac:PartyName&gt;
	&lt;cac:PostalAddress&gt;
		&lt;cbc:StreetName&gt;Indirizzo Riga 1&lt;/cbc:StreetName&gt;
		&lt;cbc:AdditionalStreetName&gt;Indirizzo Riga 2&lt;/cbc:AdditionalStreetName&gt;
		&lt;cbc:CityName&gt;Genova&lt;/cbc:CityName&gt;
		&lt;cbc:PostalZone&gt;16121&lt;/cbc:PostalZone&gt;
		&lt;cbc:CountrySubentity&gt;GE&lt;/cbc:CountrySubentity&gt;
		&lt;cac:Country&gt;
			&lt;cbc:IdentificationCode listID="ISO3166-1:Alpha2"&gt;IT&lt;/cbc:IdentificationCode&gt;
		&lt;/cac:Country&gt;
		&lt;cac:AddressLine&gt;
			&lt;cbc:Line&gt;Zona Porto&lt;/cbc:Line&gt;
		&lt;/cac:AddressLine&gt;
	&lt;/cac:PostalAddress&gt;
	&lt;cac:PartyTaxScheme&gt;
		&lt;cbc:CompanyID&gt;00234567890&lt;/cbc:CompanyID&gt;
		&lt;cac:TaxScheme&gt;
			&lt;cbc:ID&gt;VAT&lt;/cbc:ID&gt;
		&lt;/cac:TaxScheme&gt;
	&lt;/cac:PartyTaxScheme&gt;
	&lt;cac:PartyLegalEntity&gt;
		&lt;cbc:RegistrationName&gt;Acquirente Pubblico S.p.A.&lt;/cbc:RegistrationName&gt;
		&lt;cbc:CompanyID schemeID="9921"&gt;ABCDEF&lt;/cbc:CompanyID&gt;
		&lt;cac:RegistrationAddress&gt;
			&lt;cbc:CityName&gt;Genova&lt;/cbc:CityName&gt;
			&lt;cac:Country&gt;
				&lt;cbc:IdentificationCode listID="ISO3166-1:Alpha2"&gt;IT&lt;/cbc:IdentificationCode&gt;
			&lt;/cac:Country&gt;
		&lt;/cac:RegistrationAddress&gt;
	&lt;/cac:PartyLegalEntity&gt;
	&lt;cac:Contact&gt;
		&lt;cbc:Name&gt;Doria Samp&lt;/cbc:Name&gt;
		&lt;cbc:Telephone&gt;010150846&lt;/cbc:Telephone&gt;
		&lt;cbc:ElectronicMail&gt;doria.samp@acquirente.it&lt;/cbc:ElectronicMail&gt;
	&lt;/cac:Contact&gt;
&lt;/cac:Party&gt;
&lt;/cac:BuyerCustomerParty&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truecommittente-originatorcustomerparty"><a class="anchor" href="#truecommittente-originatorcustomerparty"></a>8.1.3. Committente (OriginatorCustomerParty)</h4>
<div class="paragraph">
<p>Generalmente, il committente è l&#8217;utente finale che emette l’ordine. Le informazioni presenti nel messaggio dell&#8217;ordine inerenti al committente sono facoltative.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di informazioni del committente</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OriginatorCustomerParty&gt;
    &lt;cac:Party&gt;
	&lt;cac:PartyIdentification&gt;
		&lt;cbc:ID schemeID="9907"&gt;92038610371&lt;/cbc:ID&gt;
	&lt;/cac:PartyIdentification&gt;
	&lt;cac:PartyName&gt;
		&lt;cbc:Name&gt;Ufficio Acquisti&lt;/cbc:Name&gt;
	&lt;/cac:PartyName&gt;
	&lt;cac:Contact&gt;
		&lt;cbc:Name&gt;Roberto Gastone&lt;/cbc:Name&gt;
		&lt;cbc:Telephone&gt;010150847&lt;/cbc:Telephone&gt;
		&lt;cbc:ElectronicMail&gt;roberto.gastone@acquirente.it&lt;/cbc:ElectronicMail&gt;
	&lt;/cac:Contact&gt;
    &lt;/cac:Party&gt;
&lt;/cac:OriginatorCustomerParty&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueintestatario-fattura-accountingcustomerparty"><a class="anchor" href="#trueintestatario-fattura-accountingcustomerparty"></a>8.1.4. Intestatario fattura (AccountingCustomerParty)</h4>
<div class="paragraph">
<p>L’intestatario della fattura è la persona giuridica che agisce per conto del Cliente e che riceve la fattura relativa all’ordine. Le informazioni sull’intestatario della fattura sono opzionali nel messaggio dell’Ordine PEPPOL. Vedi regola INT-T01-R002, su <a href="#trueregole-di-business-italiane">Regole di business italiane</a>.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di informazioni dell&#8217;intestatario fattura</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AccountingCustomerParty&gt;
    &lt;cac:Party&gt;
        &lt;cbc:EndpointID schemeID=”9921”&gt;ABCDEF&lt;/cbc:EndpoinID&gt;
        &lt;cac:PartyIdentification&gt;
            &lt;cbc:ID schemeID="9921"&gt;ABCDEF&lt;/cbc:ID&gt;
        &lt;/cac:PartyIdentification&gt;
        &lt;cac:PartyName&gt;
            &lt;cbc:Name&gt;Ospedale Sant’Anna&lt;/cbc:Name&gt;
        &lt;/cac:PartyName&gt;
        &lt;cac:PostalAddress&gt;
            &lt;cbc:StreetName&gt;Via del pensiero, 1&lt;/cbc:StreetName&gt;
            &lt;cbc:AdditionalStreetName&gt;Primo Piano&lt;/cbc:AdditionalStreetName&gt;
            &lt;cbc:CityName&gt;Maranello&lt;/cbc:CityName&gt;
            &lt;cbc:PostalZone&gt;41053&lt;/cbc:PostalZone&gt;
            &lt;cbc:CountrySubentity&gt;Modena&lt;/cbc:CountrySubentity&gt;
            &lt;cac:AddressLine&gt;
                &lt;cbc:Line&gt;Stanza 18&lt;/cbc:Line&gt;
            &lt;/cac:AddressLine&gt;
            &lt;cac:Country&gt;
                &lt;cbc:IdentificationCode listID="ISO3166-1:Alpha2"&gt;IT&lt;/cbc:IdentificationCode&gt;
            &lt;/cac:Country&gt;
        &lt;/cac:PostalAddress&gt;
        &lt;cac:PartyTaxScheme&gt;
            &lt;cbc:CompanyID&gt;00234567890&lt;/cbc:CompanyID&gt;
            &lt;cac:TaxScheme&gt;
                &lt;cbc:ID&gt;VAT&lt;/cbc:ID&gt;
            &lt;/cac:TaxScheme&gt;
        &lt;/cac:PartyTaxScheme&gt;
        &lt;cac:PartyLegalEntity&gt;
            &lt;cbc:RegistrationName&gt;Ospedale Sant’Anna&lt;/cbc:RegistrationName&gt;
            &lt;cbc:CompanyID schemeID="9907"&gt;00234567890&lt;/cbc:CompanyID&gt;
            &lt;cac:RegistrationAddress&gt;
                &lt;cbc:CityName&gt;Modena&lt;/cbc:CityName&gt;
                &lt;cac:Country&gt;
                    &lt;cbc:IdentificationCode listID="ISO3166-1:Alpha2"&gt;IT&lt;/cbc:IdentificationCode&gt;
                &lt;/cac:Country&gt;
            &lt;/cac:RegistrationAddress&gt;
        &lt;/cac:PartyLegalEntity&gt;
        &lt;cac:Contact&gt;
            &lt;cbc:Name&gt;ResponsabileFatturazione&lt;/cbc:Name&gt;
            &lt;cbc:ElectronicMail&gt;responsabile.fatturazione@ospedale.it&lt;/cbc:ElectronicMail&gt;
        &lt;/cac:Contact&gt;
    &lt;/cac:Party&gt;
&lt;/cac:AccountingCustomerParty&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>E’ importante notare che per facilitare il riutilizzo delle informazioni sull’intestatario in fattura, si raccomanda di includere più informazioni possibili, come PostalAddress, PartyTaxScheme e PartyLegalEntity (iscrizione al REA) in aggiunta al PartyName e al PartyIdentification.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueriferimento-ad-unaltro-ordine"><a class="anchor" href="#trueriferimento-ad-unaltro-ordine"></a>8.2. Riferimento ad un’altro ordine</h3>
<div class="paragraph">
<p>In caso di cancellazione o modifica di un ordine è necessario riportare gli elementi che lo identificano nel segmento “OrderDocumentReference/ID" valorizzato con la concatenazione dei seguenti campi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ID</strong> dell’ordine;</p>
</li>
<li>
<p><strong>IssueDate</strong> valorizzato con la data dell&#8217;ordine;</p>
</li>
<li>
<p><strong>EndpointID</strong> dell’elemento BuyerCustomerParty dell’ordine;</p>
</li>
<li>
<p>L&#8217;operazione che si vuole effettuare (<strong>Cancelled</strong> per la cancellazione e <strong>Revised</strong> per la modifica).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Per gli ordini precedenti con stato “Revised”, l’ordine rappresenta quindi sempre la nuova versione che sostituisce il precedente.</p>
</div>
<div class="sect3">
<h4 id="trueesempio-di-cancellazione-di-un-ordine-precedente"><a class="anchor" href="#trueesempio-di-cancellazione-di-un-ordine-precedente"></a>8.2.1. Esempio di cancellazione di un ordine precedente</h4>
<div class="paragraph">
<p>L’Ordine precedente in riferimento viene cancellato e il presente Ordine contiene righe vuote (NA) e i segmenti TaxTotal e AnticipatedMonetaryTotal non devono essere presenti.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderDocumentReference&gt;
    &lt;cbc:ID&gt;111#2018-01-30#ABCDEF#Cancelled&lt;/cbc:ID&gt;
&lt;/cac:OrderDocumentReference&gt;
            …
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;NA&lt;/cbc:ID&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;0&lt;/cbc:Quantity&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;N/A&lt;/cbc:Name&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueesempio-di-modifica-di-un-ordine-precedente"><a class="anchor" href="#trueesempio-di-modifica-di-un-ordine-precedente"></a>8.2.2. Esempio di modifica di un ordine precedente</h4>
<div class="paragraph">
<p>L’Ordine precedente in riferimento viene modificato dal presente Ordine che contiene tutte le righe necessarie e che pertanto rappresenta completamente il nuovo ordine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderDocumentReference&gt;
    &lt;cbc:ID&gt;1115#2015-04-30#ABCDEF#Revised&lt;/cbc:ID&gt;
&lt;/cac:OrderDocumentReference&gt;
    …
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;25&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;118.13&lt;/cbc:LineExtensionAmount&gt;
                …
        &lt;cac:Item&gt;
            &lt;cbc:Description&gt;128481&lt;/cbc:Description&gt;
            &lt;cbc:Name&gt;CISTO - AID 650036(EX79847-E) &lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;79847-E&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
                …
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truealtri-riferimenti"><a class="anchor" href="#truealtri-riferimenti"></a>8.3. Altri Riferimenti</h3>
<div class="paragraph">
<p>Nel procurement pubblico possono essere diversi i riferimenti necessari a identificare una fornitura. Per fornire gli estremi di un documento a cui ci si riferisce dalla testata o dalle righe d’ordine è necessario specificarne l’identificativo. Le seguenti tipologie di documento possono essere utilizzate sia in testata che dalle righe d’ordine. Altre tipologie possono essere utilizzate liberamente, purché non siano in contrasto con altre informazioni per le quali esiste già una precisa posizione nel documento.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 28.5714%;">
<col style="width: 57.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo documento</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dove usarlo</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CIG</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Codice Identificativo Gara</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:OriginatorDocumentReference (0..1)</p>
<p class="tableblock">cac:OrderLine/cac:LineItem/cac:Item/cac: ItemSpecificationDocumentReference/ID (0..n)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CUP</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Codice Unico Progetto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:AdditionalDocumentReference (0..n)</p>
<p class="tableblock">cac:OrderLine/cac:LineItem/cac:Item/cac: ItemSpecificationDocumentReference/ID (0..n)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DDT</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documento di Trasporto
(usare solo per riferirsi a DDT precedentemente ricevuti all’apertura di un conto deposito merce)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:AdditionalDocumentReference (0..n)</p>
<p class="tableblock">cac:OrderLine/cac:LineItem/cac:Item/cac: ItemSpecificationDocumentReference/ID (0..n)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>IMPEGNO</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estremi Impegno</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:AdditionalDocumentReference (0..n)</p>
<p class="tableblock">cac:OriginatorDocumentReference (0..1)</p>
<p class="tableblock">cac:OrderLine/cac:LineItem/cac:Item/cac: ItemSpecificationDocumentReference/ID (0..n)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DELIBERA</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estremi Delibera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:AdditionalDocumentReference (0..n)</p>
<p class="tableblock">cac:OriginatorDocumentReference (0..1)</p>
<p class="tableblock">cac:OrderLine/cac:LineItem/cac:Item/cac: ItemSpecificationDocumentReference/ID (0..n)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CONTRATTO</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estremi Contratto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In testata si usa cac:Contract (0..1)</p>
<p class="tableblock">cac:OrderLine/cac:LineItem/cac:Item/cac: ItemSpecificationDocumentReference/ID (0..n)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CONVENZIONE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estremi Convenzione</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:AdditionalDocumentReference (0..n)</p>
<p class="tableblock">cac:OriginatorDocumentReference (0..1)</p>
<p class="tableblock">cac:OrderLine/cac:LineItem/cac:Item/cac: ItemSpecificationDocumentReference/ID (0..n)</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="trueriferimento-al-documento-che-ha-originato-lordine"><a class="anchor" href="#trueriferimento-al-documento-che-ha-originato-lordine"></a>8.3.1. Riferimento al documento che ha originato l’ordine</h4>
<div class="paragraph">
<p>In certi casi è necessario evidenziare quale sia il documento che ha originato l’ordine. Trattasi di riferimento necessario solitamente solo a livello di testata ordine.</p>
</div>
<div class="listingblock">
<div class="title">L’esempio seguente indica un CIG come riferimento di origine.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OriginatorDocumentReference&gt;
    &lt;cbc:ID&gt;1Z1A3EE456&lt;/cbc:ID&gt;
&lt;/cac:OriginatorDocumentReference&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueriferimento-aggiuntivo-a-livello-di-testata"><a class="anchor" href="#trueriferimento-aggiuntivo-a-livello-di-testata"></a>8.3.2. Riferimento aggiuntivo a livello di testata</h4>
<div class="listingblock">
<div class="title">Esempio di riferimento con una delibera a livello di testata ordine.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AdditionalDocumentReference&gt;
    &lt;cbc:ID&gt;1245&lt;/cbc:ID&gt;
&lt;/cac:AdditionalDocumentReference&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueriferimento-aggiuntivo-a-livello-di-riga"><a class="anchor" href="#trueriferimento-aggiuntivo-a-livello-di-riga"></a>8.3.3. Riferimento aggiuntivo a livello di riga</h4>
<div class="listingblock">
<div class="title">Esempio di riferimento ad un CIG, un IMPEGNO e a un DDT a livello di riga:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cac:Item&gt;
		...
            &lt;cac:ItemSpecificationDocumentReference&gt;
                &lt;cbc:Id&gt;CIG:1Z1A3EE456&lt;/cbc:Id&gt;
            &lt;/cac:ItemSpecificationDocumentReference&gt;
            &lt;cac:ItemSpecificationDocumentReference&gt;
                &lt;cbc:Id&gt;IMPEGNO123&lt;/cbc:Id&gt;
            &lt;/cac:ItemSpecificationDocumentReference&gt;
            &lt;cac:ItemSpecificationDocumentReference&gt;
                &lt;cbc:Id&gt;DDT123&lt;/cbc:Id&gt;
            &lt;/cac:ItemSpecificationDocumentReference&gt;
		...
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueallegati"><a class="anchor" href="#trueallegati"></a>8.4. Allegati</h3>
<div class="paragraph">
<p>I documenti non-XML possono essere inviati come allegato all’Ordine PEPPOL. Questi potrebbero essere disegni o resoconti di ore lavorate o altri documenti rilevanti per l’Ordine. L’allegato può essere inviato come oggetto binario codificato in Base64, incorporato nel message o come URI ad un indirizzo esterno.</p>
</div>
<div class="paragraph">
<p><strong>Si raccomanda di inviare allegati in modo incorporato, oggetti binari e non come riferimenti esterni.</strong></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Gli allegati dovrebbero essere utilizzati per fornire informazioni aggiuntive e non per copie dell’ordine in altri formati.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>I codici validi (<strong>MIMECode IT</strong>) vengono denotati tra le <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di allegato incorporato, oggetto binario nel messaggio dell’Ordine PEPPOL.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AdditionalDocumentReference&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;cbc:ID&gt;Doc2&lt;/cbc:ID&gt;
    &lt;cbc:DocumentType&gt;Disegno&lt;/cbc:DocumentType&gt;
    &lt;cac:Attachment&gt;
        &lt;cbc:EmbeddedDocumentBinaryObject mimeCode="application/pdf" filename="disegno.pdf"&gt; UjBsR09EbGhjZ0dTQUxNQUFBUUNBRU1tQ1p0dU1GUXhEUzhi
        &lt;/cbc:EmbeddedDocumentBinaryObject&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;/cac:Attachment&gt;
&lt;/cac:AdditionalDocumentReference&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>E' consigliabile utilizzare l&#8217;elemento cac:AdditionalDocumentReference/cbc:DocumentType per inviare una breve descrizione del contenuto presente in allegato.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Il nome del file e la sua estensione devono essere inviati dall&#8217;attributo filename all&#8217;elemento cbc:EmbeddedDocumentBinaryObject</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Gli allegati possono essere utilizzati come informazioni aggiuntive ma non come copie dell&#8217;ordine.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="trueidentificazione-prodotto"><a class="anchor" href="#trueidentificazione-prodotto"></a>8.5. Identificazione prodotto</h3>
<div class="paragraph">
<p>I prodotti devono essere identificati utilizzando i seguenti identificatori:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sellers ID;</p>
</li>
<li>
<p>Standard ID, es. Il GTIN (Global Trade Item Number) di GS1.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Quale identificatore deve essere usato dipende dalle informazioni conosciute al momento dell’ordine o da quello comunemente utilizzato nel settore business di riferimento.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Ogni ordine DEVE avere un identificatore per l’articolo e/o la sua denominazione
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Esempio di un articolo di un Ordine PEPPOL utilizzando sia il Sellers ID che lo Standard ID (GTIN):</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:Item&gt;
        …
    &lt;cac:SellersItemIdentification&gt;
         &lt;cbc:ID&gt;541706&lt;/cbc:ID&gt;
    &lt;/cac:SellersItemIdentification&gt;
    &lt;cac:StandardItemIdentification&gt;
         &lt;cbc:ID schemeID="0160"&gt;05704368124358&lt;/cbc:ID&gt;
    &lt;/cac:StandardItemIdentification&gt;
        …
&lt;/cac:Item&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truenome-e-descrizione-prodotto"><a class="anchor" href="#truenome-e-descrizione-prodotto"></a>8.6. Nome e descrizione prodotto</h3>
<div class="paragraph">
<p>Il nome del Prodotto deve essere fornito nell’elemento Item/Name a livello di riga. La sua descrizione può essere fornita in <span class="Silver">cac:Item/cbc:Description</span>.</p>
</div>
<div class="listingblock">
<div class="title">Esempio:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:Item&gt;
    &lt;cbc:Description&gt;1x12 pacchi&lt;/cbc:Description&gt;
    &lt;cbc:Name&gt;Salviette per bambini&lt;/cbc:Name&gt;
 	 …
&lt;/cac:Item&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecentro-di-costo"><a class="anchor" href="#truecentro-di-costo"></a>8.7. Centro di Costo</h3>
<div class="paragraph">
<p>Gli ordini di approvvigionamento di certi settori, come ad esempio quello sanitario, necessitano di identificare precisamente il Centro di Costo di ogni articolo ordinato. Nell’esempio che segue si evidenzia come un’ordine possa contenere gli articoli richiesti da diverse unità operative (U.O.) che solitamente corrispondono a diversi centri di costo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID=”UNECERec20”&gt;1000&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;5000.00&lt;/cbc:LineExtensionAmount&gt;
        &lt;cbc:AccountingCost&gt;PRONTO SOCCORSO&lt;/cbc:AccountingCost&gt;
        &lt;cac:Price&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;5.00000&lt;/cbc:PriceAmount&gt;
        &lt;/cac:Price&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Description&gt;1x12 pacchi&lt;/cbc:Description&gt;
            &lt;cbc:Name&gt;Confezione Garze&lt;/cbc:Name&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;2&lt;/cbc:ID&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID=”UNECERec20”&gt;500&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;2500.00&lt;/cbc:LineExtensionAmount&gt;
        &lt;cbc:AccountingCost&gt;MEDICINA GENERALE&lt;/cbc:AccountingCost&gt;
        &lt;cac:Price&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;5.00000&lt;/cbc:PriceAmount&gt;
        &lt;/cac:Price&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Description&gt;1x12 pacchi&lt;/cbc:Description&gt;
            &lt;cbc:Name&gt;Confezione Garze&lt;/cbc:Name&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truequantità-e-unità-di-misura"><a class="anchor" href="#truequantità-e-unità-di-misura"></a>8.8. Quantità e unità di misura</h3>
<div class="paragraph">
<p>Nell’Ordine PEPPOL possono essere fornite diverse Quantità e le relative Unità di misura. Esse sono relazionate sia al processo dell’ordine che a quello della logistica. La tabella seguente elenca le quantità e le relative unità di misura previste. Ogni quantità deve avere la sua unità di misura espressa secondo le <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Nome element / (Nome tag)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Price Quantity / <span class="Silver">cbc:BaseQuantity</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quantità relative al Prezzo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order Quantity / <span class="Silver">cbc:Quantity</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quantità ordinate, es. Il numero dei pezzi o il volume in litri.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Esempio di una riga d’ordine con una quantità di 120 litri (cbc:Quantity) e il prezzo al litro:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
        &lt;cbc:Quantity unitCode="LTR" unitCodeListID=”UNECERec20”&gt;120&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;6000.00&lt;/cbc:LineExtensionAmount&gt;
        &lt;cbc:PartialDeliveryIndicator&gt;false&lt;/cbc:PartialDeliveryIndicator&gt;
        &lt;cbc:AccountingCost&gt;ProjectID123&lt;/cbc:AccountingCost&gt;
        &lt;cac:Price&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;50.00000&lt;/cbc:PriceAmount&gt;
            &lt;cbc:BaseQuantity unitCode="LTR" unitCodeListID=”UNECERec20”&gt;1&lt;/cbc:BaseQuantity&gt;
        &lt;/cac:Price&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueprezzi"><a class="anchor" href="#trueprezzi"></a>8.9. Prezzi</h3>
<div class="paragraph">
<p>Nel processo dell’ordine i prezzi possono essere scambiati  sia per prodotti specificati con il nome che mediante identificatori. Questo permette al venditore di cambiare il prezzo nella risposta d’Ordine.</p>
</div>
<div class="paragraph">
<p>Se i prezzi non vengono forniti con l’Ordine la prassi è quella di verificare il prezzo durante il processo di fatturazione comparando i prezzi in Fattura con quelli del Catalogo.</p>
</div>
<div class="paragraph">
<p>Il Prezzo viene specificato per gli articoli o servizi indicati nell’ordine.</p>
</div>
<div class="paragraph">
<p>In particolare i prezzi dovrebbero includere abbuoni/sconti e/o maggiorazioni ma al netto delle imposte (IVA).</p>
</div>
<div class="listingblock">
<div class="title">Esempio di prezzo per un articolo merce:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:Price&gt;
 	&lt;cbc:PriceAmount currencyID="EUR"&gt;50.00000&lt;/cbc:PriceAmount&gt;
 	&lt;cbc:BaseQuantity unitCode="LTR" unitCodeListID=”UNECERec20”&gt;1&lt;/cbc:BaseQuantity&gt;
&lt;/cac:Price&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueomaggi"><a class="anchor" href="#trueomaggi"></a>8.10. Omaggi</h3>
<div class="paragraph">
<p>Per includere nell’ordine degli articoli in omaggio è necessario indicarli in riga separata rispetto a quelli a pagamento e poi si deve indicare sia l’importo di riga che il prezzo con importo a 0 (zero).</p>
</div>
<div class="listingblock">
<div class="title">Esempio di una riga d’ordine contenente in omaggio 12 pacchi di striscie per il test del glucosio:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
&lt;cbc:Quantity unitCode="C62" unitCodeListID=”UNECERec20”&gt;20&lt;/cbc:Quantity&gt;
&lt;cbc:LineExtensionAmount currencyID="EUR"&gt;0&lt;/cbc:LineExtensionAmount&gt;
    &lt;cac:Price&gt;
        &lt;cbc:PriceAmount currencyID="EUR"&gt;0&lt;/cbc:PriceAmount&gt;
        &lt;cbc:BaseQuantity unitCode="LTR" unitCodeListID=”UNECERec20”&gt;1&lt;/cbc:BaseQuantity&gt;
    &lt;/cac:Price&gt;
&lt;cac:Item&gt;
    &lt;cbc:Description&gt;1x12 pacchi&lt;/cbc:Description&gt;
    &lt;cbc:Name&gt;Striscie per glucosio&lt;/cbc:Name&gt;
&lt;/cac:Item&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truesconti-e-maggiorazioni"><a class="anchor" href="#truesconti-e-maggiorazioni"></a>8.11. Sconti e maggiorazioni</h3>
<div class="sect3">
<h4 id="trueregole-generali"><a class="anchor" href="#trueregole-generali"></a>8.11.1. Regole generali</h4>
<div class="paragraph">
<p>Gli elementi per specificare sconti e maggiorazioni si trovano su due  livelli.</p>
</div>
<div class="paragraph">
<p>L’elemento cac:AllowanceCharge con il sotto elemento cac:ChargeIndicator permette di indicare se si sta specificando una maggiorazione (true) o uno sconto/abbuono (false).</p>
</div>
<div class="paragraph">
<p><strong>Livello di testata</strong></p>
</div>
<div class="paragraph">
<p><em>Si applica all&#8217;intero ordine ed è incluso nel calcolo dell&#8217;importo totale dell&#8217;ordine (se specificato)</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Possono essere forniti sconti e maggiorazioni</p>
</li>
<li>
<p>L&#8217;indicazione IVA per sconti e maggiorazioni ( cac:TaxCategory con i suoi sotto elementi ) deve essere fornita</p>
</li>
<li>
<p>La somma di tutti gli sconti e maggiorazioni a livello di testata deve essere specificato rispettivamente nel AllowanceTotalAmount e nel ChargeTotalAmount, vedi  <a href="#truecalcolo-dei-totali-anticipatedmonetarytotals">Calcolo dei totali (AnticipatedMonetaryTotals)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Elemento Prezzo a livello di riga</strong></p>
</div>
<div class="paragraph">
<p><em>Il prezzo indicato deve essere sempre il prezzo netto, cioè l&#8217;importo base ridotto da uno sconto.</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Solamente una occorrenza di sconto è consentita</p>
</li>
<li>
<p>L&#8217;indicazione IVA per gli sconti non deve essere specificata</p>
</li>
<li>
<p>Gli sconti relativi al prezzo sono solo informativi e non sono considerati in qualsiasi altro calcolo</p>
</li>
<li>
<p>Gli sconti relativi al prezzo possono specificare l&#8217;importo e l&#8217;importo base</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="truesconti-e-maggiornazioni-a-livello-di-testata"><a class="anchor" href="#truesconti-e-maggiornazioni-a-livello-di-testata"></a>8.11.2. Sconti e maggiornazioni a livello di testata</h4>
<div class="paragraph">
<p>Questo esempio mostra una maggiorazione relative ai costi di imballaggio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AllowanceCharge&gt;
	  &lt;cbc:ChargeIndicator&gt;true&lt;/cbc:ChargeIndicator&gt;
	    &lt;cbc:AllowanceChargeReasonCode&gt;AA&lt;/cbc:AllowanceChargeReasonCode&gt;
	        &lt;cbc:AllowanceChargeReason&gt;Costi di imballaggio&lt;/cbc:AllowanceChargeReason&gt;
	            &lt;cbc:MultiplierFactorNumeric&gt;20&lt;/cbc:MultiplierFactorNumeric&gt;
	        &lt;cbc:Amount currencyID="EUR"&gt;100.00&lt;/cbc:Amount&gt;
	    &lt;cbc:BaseAmount currencyID="EUR"&gt;5.00&lt;/cbc:BaseAmount&gt;
&lt;/cac:AllowanceCharge&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Questo esempio mostra uno sconto per l’intero ordine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AllowanceCharge&gt;
	&lt;cbc:ChargeIndicator&gt;false&lt;/cbc:ChargeIndicator&gt;
	    &lt;cbc:AllowanceChargeReasonCode&gt;41&lt;/cbc:AllowanceChargeReasonCode&gt;
            &lt;cbc:AllowanceChargeReason&gt;Sconto&lt;/cbc:AllowanceChargeReason&gt;
                &lt;cbc:MultiplierFactorNumeric&gt;20&lt;/cbc:MultiplierFactorNumeric&gt;
	        &lt;cbc:Amount currencyID="EUR"&gt;100.00&lt;/cbc:Amount&gt;
	    &lt;cbc:BaseAmount currencyID="EUR"&gt;5.00&lt;/cbc:BaseAmount&gt;
&lt;/cac:AllowanceCharge&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truesconti-e-maggiorazioni-sul-prezzo"><a class="anchor" href="#truesconti-e-maggiorazioni-sul-prezzo"></a>8.11.3. Sconti e maggiorazioni sul prezzo</h4>
<div class="paragraph">
<p>Questo esempio mostra uno sconto di 10 EUR sul prezzo base:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:Price&gt;
    &lt;cbc:PriceAmount currencyID="EUR"&gt;90.00&lt;/cbc:PriceAmount&gt;
        &lt;cac:AllowanceCharge&gt;
		    &lt;cbc:ChargeIndicator&gt;false&lt;/cbc:ChargeIndicator&gt;
            &lt;cbc:AllowanceChargeReason&gt;Sconto&lt;/cbc:AllowanceChargeReason&gt;
		    &lt;cbc:Amount currencyID="EUR"&gt;10.00&lt;/cbc:Amount&gt;
            &lt;cbc:BaseAmount currencyID="EUR"&gt;100.00&lt;/cbc:BaseAmount&gt;
        &lt;/cac:AllowanceCharge&gt;
&lt;/cac:Price&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truesconti-e-maggiorazioni-a-livello-di-riga"><a class="anchor" href="#truesconti-e-maggiorazioni-a-livello-di-riga"></a>8.11.4. Sconti e maggiorazioni a livello di riga</h4>
<div class="paragraph">
<p>Questo esempio mostra uno sconto applicato a tutta la riga d’ordine, dove 1&#8217;articolo è gratuito a titolo di sconto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;10&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;90.00&lt;/cbc:LineExtensionAmount&gt;
            &lt;cac:AllowanceCharge&gt;
				&lt;cbc:ChargeIndicator&gt;false&lt;/cbc:ChargeIndicator&gt;
				&lt;cbc:AllowanceChargeReason&gt;Sconto sulla riga&lt;/cbc:AllowanceChargeReason&gt;
			    &lt;cbc:MultiplierFactorNumeric&gt;10&lt;/cbc:MultiplierFactorNumeric&gt;
				&lt;cbc:Amount currencyID="EUR"&gt;10.00&lt;/cbc:Amount&gt;
				&lt;cbc:BaseAmount currencyID="EUR"&gt;100.00&lt;/cbc:BaseAmount&gt;
			&lt;/cac:AllowanceCharge&gt;
            &lt;cac:Price&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;9.00000&lt;/cbc:PriceAmount&gt;&lt;!-- Opzionale --&gt;
            &lt;/cac:Price&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truesconto-merce"><a class="anchor" href="#truesconto-merce"></a>8.11.5. Sconto Merce</h4>
<div class="paragraph">
<p>Per cessioni a titolo di sconto, premio o abbuono si inserisce una riga d’ordine separata prestando attenzione ad indicarne la relativa esenzione IVA.</p>
</div>
<div class="paragraph">
<p>Infatti ai fini IVA lo sconto merce rientra nelle operazioni Escluse ex Art. 15 D.P.R. 633/72.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;10&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;0.00&lt;/cbc:LineExtensionAmount&gt;
            &lt;cac:AllowanceCharge&gt;
	            &lt;cbc:ChargeIndicator&gt;false&lt;/cbc:ChargeIndicator&gt;
	            &lt;cbc:AllowanceChargeReason&gt;Sconto Merce&lt;/cbc:AllowanceChargeReason&gt;
		        &lt;cbc:MultiplierFactorNumeric&gt;10&lt;/cbc:MultiplierFactorNumeric&gt;
	            &lt;cbc:Amount currencyID="EUR"&gt;90.00&lt;/cbc:Amount&gt;
            &lt;/cac:AllowanceCharge&gt;
            &lt;cac:Price&gt;
                 &lt;cbc:PriceAmount currencyID="EUR"&gt;9.00000&lt;/cbc:PriceAmount&gt;
            &lt;/cac:Price&gt;
            &lt;cac:Item&gt;
                &lt;cbc:Description&gt;1x12 PACCHI&lt;/cbc:Description&gt;
                &lt;cbc:Name&gt;ARTICOLO MERCE&lt;/cbc:Name&gt;
            &lt;cac:ClassifiedTaxCategory&gt;
                &lt;cbc:ID&gt;O&lt;/cbc:ID&gt;
            &lt;/cac:ClassifiedTaxCategory&gt;
            &lt;/cac:Item&gt;
  	&lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truegestione-ordini-particolari"><a class="anchor" href="#truegestione-ordini-particolari"></a>8.12. Gestione Ordini particolari</h3>
<div class="sect3">
<h4 id="trueordini-in-conto-visione-e-ordini-di-fatturazione-e-reintegro"><a class="anchor" href="#trueordini-in-conto-visione-e-ordini-di-fatturazione-e-reintegro"></a>8.12.1. Ordini in Conto Visione e Ordini di fatturazione e reintegro</h4>
<div class="paragraph">
<p>Gli ordini con tipologia 227 di beni in conto visione (CV) e gli ordini con tipologia 220 di fatturazione e reintegro (OFR) prevedono che l’emissione dell’ordine avvenga successivamente alla consegna e all’utilizzo dei beni forniti. Pertanto, in questi ordini è obbligatorio specificare i riferimenti relativi al Lotto, Numero Seriale e Numero DDT di consegna dell’articolo utilizzato.</p>
</div>
<div class="paragraph">
<p>Esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:ItemSpecificationDocumentReference&gt;
    &lt;cbc:Id&gt;DDT123&lt;/cbc:Id&gt;
&lt;/cac:ItemSpecificationDocumentReference&gt;
        ...
    &lt;cac:ItemInstance&gt;
            &lt;!--Seriale--&gt;
        &lt;cbc:SerialID&gt;23456TY&lt;/cbc:SerialID&gt;
            &lt;!--Lotto--&gt;
        &lt;cac:LotIdentification&gt;
            &lt;cbc:LotNumberID&gt;AB123WE&lt;/cbc:LotNumberID&gt;
        &lt;/cac:LotIdentification&gt;
    &lt;/cac:ItemInstance&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueordini-di-kit-a-componenti-predefinite-e-a-componenti-variabili-virtuali"><a class="anchor" href="#trueordini-di-kit-a-componenti-predefinite-e-a-componenti-variabili-virtuali"></a>8.12.2. Ordini di Kit a componenti predefinite e a componenti variabili (virtuali)</h4>
<div class="paragraph">
<p>I componenti di un Kit (generalmente si tratta di dispositivi sanitari impiantabili) possono essere predefiniti (definiti a listino dal fornitore e sempre utilizzati congiuntamente) o variabili (nel listino del fornitore vengono indicati i possibili componenti richiedibili).
Solitamente esiste un codice articolo del kit e un codice articolo per ciascun componente del kit.</p>
</div>
<div class="paragraph">
<p>Nell’Ordine l’Item può essere definito nei termini del KIT o del Componente.</p>
</div>
<div class="sect4">
<h5 id="trueesempio-di-item-definito-nei-termini-del-kit"><a class="anchor" href="#trueesempio-di-item-definito-nei-termini-del-kit"></a>Esempio di Item definito nei termini del KIT</h5>
<div class="paragraph">
<p>Codice articolo fornitore per il “KIT” (esempio: “KITCARTO9”)
Dettaglio dei componenti del KIT usando uno o più AdditionalItemProperty (non obbligatorio, cardinalità 0-n) in questo modo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name = Componente;</p>
</li>
<li>
<p>Value = ID componente Kit (esempio: “34A35M”, “34N01M”, …)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>E’ possibile usare l’unità di misura che descrive un k KT</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:Quantity unitCode="KT" unitCodeListID="UNECERec20"&gt;10&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;1000.00&lt;/cbc:LineExtensionAmount&gt;
        &lt;cac:Price&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;100.00000&lt;/cbc:PriceAmount&gt;
            &lt;cbc:BaseAmount currencyID="EUR"&gt;5.00&lt;/cbc:BaseAmount&gt;
        &lt;/cac:Price&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;KIT&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;KITCARTO9&lt;/cbc:ID&gt;
                &lt;!—ID KIT--&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:AdditionalItemProperty&gt;
                &lt;cbc:Name&gt;Componente&lt;/cbc:Name&gt;
                &lt;cbc:Value&gt;KITCARTO9&lt;/cbc:Value&gt;
            &lt;/cac:AdditionalItemProperty&gt;
            &lt;cac:AdditionalItemProperty&gt;
                &lt;cbc:Name&gt;Componente&lt;/cbc:Name&gt;
                &lt;cbc:Value&gt;34N01M&lt;/cbc:Value&gt;
            &lt;/cac:AdditionalItemProperty&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="trueesempio-di-item-definito-nei-termini-del-componente-di-un-kit"><a class="anchor" href="#trueesempio-di-item-definito-nei-termini-del-componente-di-un-kit"></a>Esempio di Item definito nei termini del Componente di un KIT</h5>
<div class="paragraph">
<p>Codice articolo fornitore per il “Componente” (esempio: NAVI-STAR 34A35M)
Riferimento al KIT di appartenenza usando un AdditionalItemProperty (non obbligatorio, cardinalità 0-n) in questo modo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name = KIT;</p>
</li>
<li>
<p>Value = ID Kit (esempio: “KITCARTO9”)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>E’ possibile usare l’unità di misura che descrive un componente (parte): C62</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;10&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;100.00&lt;/cbc:LineExtensionAmount&gt;
        &lt;cac:Price&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;10.00000&lt;/cbc:PriceAmount&gt;
            &lt;cbc:BaseAmount currencyID="EUR"&gt;5.00&lt;/cbc:BaseAmount&gt;
        &lt;/cac:Price&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Articolo Componente&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;NAVI-STAR 34A35M&lt;/cbc:ID&gt;
                &lt;!—ID Componente--&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:AdditionalItemProperty&gt;
                &lt;cbc:Name&gt;KIT&lt;/cbc:Name&gt;
                &lt;cbc:Value&gt;34A35M&lt;/cbc:Value&gt;
            &lt;/cac:AdditionalItemProperty&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truecalcolo-dellimporto-scontimaggiorazioni"><a class="anchor" href="#truecalcolo-dellimporto-scontimaggiorazioni"></a>8.12.3. Calcolo dell&#8217;importo sconti/maggiorazioni</h4>
<div class="paragraph">
<p>Sconti e maggiorazioni a livello di testata sono costituiti da elementi contenenti informazioni sull&#8217;importo base di sconti/maggiorazioni e sulla percentuale di sconti/maggiorazioni. Questi, se presenti in fattura, sono utilizzati per calcolare l&#8217;importo di sconti/maggiorazioni.</p>
</div>
<div class="paragraph">
<p>Se l&#8217;importo base è presente, deve essere presente la percentuale, e se la percentuale è presente anche l&#8217;importo base deve essere presente. Il calcolo dell&#8217;importo è definito nel modo seguente:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Importo</strong> = <strong>Importo base</strong> x (<strong>Percentuale</strong> ÷ <strong>100</strong>)</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Esempio di UBL di sconti e maggiorazioni a livello di testata</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AllowanceCharge&gt;
        &lt;cbc:ChargeIndicator&gt;true&lt;/cbc:ChargeIndicator&gt; <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;cbc:AllowanceChargeReasonCode&gt;FC&lt;/cbc:AllowanceChargeReasonCode&gt;
        &lt;cbc:AllowanceChargeReason&gt;Servizio di Trasporto&lt;/cbc:AllowanceChargeReason&gt;
        &lt;cbc:MultiplierFactorNumeric&gt;2&lt;/cbc:MultiplierFactorNumeric&gt; <i class="conum" data-value="4"></i><b>(4)</b>
        &lt;cbc:Amount currencyID="EUR"&gt;20&lt;/cbc:Amount&gt; <i class="conum" data-value="5"></i><b>(5)</b>
        &lt;cbc:BaseAmount currencyID="EUR"&gt;1000.00&lt;/cbc:BaseAmount&gt; <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;cac:TaxCategory&gt;
                &lt;cbc:ID&gt;S&lt;/cbc:ID&gt;
                &lt;cbc:Percent&gt;22&lt;/cbc:Percent&gt;
                &lt;cac:TaxScheme&gt;
                        &lt;cbc:ID&gt;VAT&lt;/cbc:ID&gt;
                &lt;/cac:TaxScheme&gt;
        &lt;/cac:TaxCategory&gt;
&lt;/cac:AllowanceCharge&gt;
&lt;cac:AllowanceCharge&gt;
        &lt;cbc:ChargeIndicator&gt;false&lt;/cbc:ChargeIndicator&gt; <i class="conum" data-value="2"></i><b>(2)</b>
        &lt;cbc:AllowanceChargeReasonCode&gt;65&lt;/cbc:AllowanceChargeReasonCode&gt;
        &lt;cbc:AllowanceChargeReason&gt;Production error discount&lt;/cbc:AllowanceChargeReason&gt;
        &lt;cbc:Amount currencyID="EUR"&gt;10.00&lt;/cbc:Amount&gt;
        &lt;cac:TaxCategory&gt;
                &lt;cbc:ID&gt;S&lt;/cbc:ID&gt;
                &lt;cbc:Percent&gt;22&lt;/cbc:Percent&gt;
                &lt;cac:TaxScheme&gt;
                        &lt;cbc:ID&gt;VAT&lt;/cbc:ID&gt;
                &lt;/cac:TaxScheme&gt;
        &lt;/cac:TaxCategory&gt;
&lt;/cac:AllowanceCharge&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>ChargeIndicator = TRUE indica la presenza di una maggiorazione</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>ChargeIndicator = FALSE indica la presenza di uno sconto</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Importo base, deve essere usato con la percentuale per calcolare l&#8217;importo</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Percentuale maggiorazione</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><strong>Importo = Importo base x (Percentuale ÷100)</strong></td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Esempio UBL che mostra uno sconto sul prezzo di 10 euro</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:Price&gt;
  &lt;cbc:PriceAmount currencyID="EUR"&gt;40.00000&lt;/cbc:PriceAmount&gt;
  &lt;cac:AllowanceCharge&gt;
    &lt;cbc:ChargeIndicator&gt;false&lt;/cbc:ChargeIndicator&gt;
    &lt;cbc:Amount currencyID="EUR"&gt;10.00&lt;/cbc:Amount&gt;
    &lt;cbc:BaseAmount currencyID="EUR"&gt;50.00&lt;/cbc:BaseAmount&gt;
  &lt;/cac:AllowanceCharge&gt;
&lt;/cac:Price&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecalcolo-dei-totali-anticipatedmonetarytotals"><a class="anchor" href="#truecalcolo-dei-totali-anticipatedmonetarytotals"></a>8.13. Calcolo dei totali (AnticipatedMonetaryTotals)</h3>
<div class="paragraph">
<p>I seguenti elementi mostrano gli importi totali anticipati con l’ordine:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elemento:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descrizione:</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:LineExtensionAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Somma degli importi di riga</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:AllowanceTotalAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sconti/Abbuoni a livello di testata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:ChargeTotalAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maggiorazioni a livello di testata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:TaxExclusiveAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Importo totale dell’Ordine senza IVA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:TaxInclusiveAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Importo totale dell’Ordine incluso IVA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:PrepaidAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualsiasi importo che è stato pagato in anticipo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:PayableRoundingAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arrotondamento applicato al totale dell’Ordine</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:PayableAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L’importo previsto per il pagamento</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Gli importi DEVONO essere forniti con una precisione di due decimali ad eccezione del prezzo dove il numero massimo di decimali può essere cinque come da normativa italiana;</p>
</li>
<li>
<p>Il totale dovuto previsto NON DEVE essere negativo;</p>
</li>
<li>
<p>Il totale degli importi di riga previsto NON DEVE essere negativo.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
E’ importante notare che la classe AnticipatedMonetaryTotals è opzionale.  Se la classe viene inclusa nel messaggio, gli unici elementi obbligatori sono LineExtensionAmount e PayableAmount.  Tutti gli altri sono opzionali.  Quando gli elementi opzionali vengono usati, il loro contenuto DEVE seguire le regole sotto riportate.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le formule per il calcolo dei totali sono le seguenti:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Formula</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:LineExtensionAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">∑ LineExtensionAmount (a livello di riga)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:ChargeTotalAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">∑ Charge Amount (dove ChargeIndicator = ”true”)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:AllowanceTotalAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">∑ Allowance Amount (dove ChargeIndicator = ”false”)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:TaxExclusiveAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LineExtensionAmount</p>
<p class="tableblock">– AllowanceTotalAmount</p>
<p class="tableblock">+ ChargeTotalAmount</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:TaxInclusiveAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TaxExclusiveAmount</p>
<p class="tableblock">+  TaxTotal /TaxAmount</p>
<p class="tableblock">+  PayableRoundingAmount</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:PayableAmount&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TaxInclusiveAmount –  PrepaidAmount</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="trueesempio-di-calcolo"><a class="anchor" href="#trueesempio-di-calcolo"></a>8.13.1. Esempio di calcolo</h4>
<div class="imageblock">
<div class="content">
<img src="../../images/fig5.jpg" alt="fig5">
</div>
</div>
<div class="paragraph">
<p>L’esempio di cui sopra viene espresso nell’ordine nel seguente modo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:AnticipatedlMonetaryTotal&gt;
    &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;1436.50&lt;/cbc:LineExtensionAmount&gt;
    &lt;cbc:TaxExclusiveAmount currencyID="EUR"&gt;1536.50&lt;/cbc:TaxExclusiveAmount&gt;
    &lt;cbc:TaxInclusiveAmount currencyID="EUR"&gt;1921.00&lt;/cbc:TaxInclusiveAmount&gt;
    &lt;cbc:AllowanceTotalAmount currencyID="EUR"&gt;100.00&lt;/cbc:AllowanceTotalAmount&gt;
    &lt;cbc:ChargeTotalAmount currencyID="EUR"&gt;200.00&lt;/cbc:ChargeTotalAmount&gt;
    &lt;cbc:PrepaidAmount currencyID="EUR"&gt;1000.00&lt;/cbc:PrepaidAmount&gt;
	&lt;cbc:PayableRoundingAmount currencyID="EUR"&gt;0.37&lt;/cbc:PayableRoundingAmount&gt;
    &lt;cbc:PayableAmount currencyID="EUR"&gt;921.00&lt;/cbc:PayableAmount&gt;
&lt;/cac:AnticipatedMonetaryTotal&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truelelemento-per-gli-arrotondamenti-il-payableroundingamount"><a class="anchor" href="#truelelemento-per-gli-arrotondamenti-il-payableroundingamount"></a>8.13.2. L’elemento per gli arrotondamenti, il PayableRoundingAmount</h4>
<div class="paragraph">
<p>E’ possibile arrotondare l’importo dovuto previsto. La regola per attuarlo è quella di arrotondamento standard, es. Maggiore o uguale a 0.5 viene arrotondato per eccesso, tutti gli altri valori vengono arrotondati per difetto.</p>
</div>
<div class="paragraph">
<p>L’elemento AnticipatedMonetaryTotal/PayableRoundingAmount viene usato allo scopo ed è specificato a livello di testata.
Questo valore deve essere aggiunto al valore indicato in AnticipatedMonetaryTotal/TaxInclusiveAmount.</p>
</div>
<div class="paragraph">
<p>Esempio:  <strong>Importo 999.81 arrotondato a  1000.00  PayableRoundingAmount = 0.19.</strong></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truetotale-imposte"><a class="anchor" href="#truetotale-imposte"></a>8.14. Totale imposte</h3>
<div class="paragraph">
<p>E’ possibile fornire il totale delle imposte dell’ordine a livello di testata.</p>
</div>
<div class="listingblock">
<div class="title">Livello di testata:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:TaxTotal&gt;
    &lt;cbc:TaxAmount currencyID="EUR"&gt;5.00&lt;/cbc:TaxAmount&gt;
&lt;/cac:TaxTotal&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueconsegna-delivery"><a class="anchor" href="#trueconsegna-delivery"></a>8.15. Consegna (Delivery)</h3>
<div class="paragraph">
<p>Le informazioni di consegna sono necessarie qualora l’indirizzo differisca da quello della parte che emette l’ordine e permette di fornire indicazioni più precise sulla resa della merce (DeliveryTerms). Si ricorda che l&#8217;orario di apertura del magazzino dovranno essere inserite nel campo AddressLine/Line del segmento Address.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:Delivery&gt;
    &lt;cac:DeliveryLocation&gt;
        &lt;cbc:ID&gt;CF-IdShipTo&lt;/cbc:ID&gt;
        &lt;cac:Address&gt;
            &lt;cbc:StreetName&gt;Viale Ercolani, 4&lt;/cbc:StreetName&gt;
            &lt;cbc:CityName&gt;Bologna&lt;/cbc:CityName&gt;
            &lt;cbc:PostalZone&gt;40138&lt;/cbc:PostalZone&gt;
            &lt;cbc:CountrySubentity&gt;BO&lt;/cbc:CountrySubentity&gt;
            &lt;cac:Country&gt;
                &lt;cbc:IdentificationCode listID="ISO3166-1:Alpha2"&gt;IT&lt;/cbc:IdentificationCode&gt;
            &lt;/cac:Country&gt;
            &lt;cac:AddressLine&gt;
                &lt;cbc:Line&gt;Orario:Lunedì-Venerdì 8:00-13:00 - Sabato 8:00-12:00&lt;/cbc:Line&gt;
            &lt;/cac:AddressLine&gt;
        &lt;/cac:Address&gt;
    &lt;/cac:DeliveryLocation&gt;
    &lt;cac:DeliveryParty&gt;
        &lt;cac:PartyIdentification&gt;
            &lt;cbc:ID schemeID="9907"&gt;92038610371&lt;/cbc:ID&gt;
        &lt;/cac:PartyIdentification&gt;
        &lt;cac:PartyName&gt;
            &lt;cbc:Name&gt;Centro Logistico Beni Sanit-Ecom Area 2&lt;/cbc:Name&gt;
        &lt;/cac:PartyName&gt;
            &lt;cac:Contact&gt;
                &lt;cbc:Name&gt;ResponsabileMagazzino&lt;/cbc:Name&gt;
                &lt;cbc:Telephone&gt;0516361509&lt;/cbc:Telephone&gt;
                &lt;cbc:ElectronicMail&gt;responsabile.magazzino@azienda sanitaria.it&lt;/cbc:ElectronicMail&gt;
            &lt;/cac:Contact&gt;
    &lt;/cac:DeliveryParty&gt;
&lt;/cac:Delivery&gt;
&lt;cac:DeliveryTerms&gt;
    &lt;cbc:ID&gt;PORTO FRANCO&lt;/cbc:ID&gt;
&lt;/cac:DeliveryTerms&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="trueperiodo-di-consegna-per-riga-dordine"><a class="anchor" href="#trueperiodo-di-consegna-per-riga-dordine"></a>8.15.1. Periodo di Consegna per riga d’ordine</h4>
<div class="paragraph">
<p>Per la gestione di ordini frazionati il periodo di consegna richiesto può essere indicato su ogni riga d’ordine utilizzando le informazioni di delivery in modo simile a quelle in testata ordine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
      &lt;cac:LineItem&gt;
           &lt;cbc:Quantity unitCode="PK" unitCodeListID="UNECERec20"&gt;10&lt;/cbc:Quantity&gt;
           &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;500.00&lt;/cbc:LineExtensionAmount&gt;
           &lt;cac:RequestedDeliveryPeriod&gt;
                &lt;cac:StartDate&gt;2016-12-01&lt;/cac:StartDate&gt;
                &lt;cac:EndDate&gt;2016-12-31&lt;/cac:EndDate&gt;
           &lt;/cac:RequestedDeliveryPeriod&gt;
                …
      &lt;/cac:LineItem&gt;
                …
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueconfezionamento"><a class="anchor" href="#trueconfezionamento"></a>8.16. Confezionamento</h3>
<div class="paragraph">
<p>Per fornire informazioni sul confezionamento è possibile usare due diverse modalità a seconda di come viene effettuato l’ordine, e quindi se l’articolo corrisponde alla singola unità "C62" o alla confezione "XPK". Se l’articolo ordinato è una confezione è importante indicarne l’unità di misura corretta. Nella tabella seguente si fornisce la metodologia per aggiungere informazioni sulle singole unità all’interno della confezione e viceversa, quando l’articolo coincide con l’unità base, per fornire informazioni sul confezionamento.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Informazioni</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Articolo</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caso 1  Unità Base</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caso 2 Confezione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Unità di Misura</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C62</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XPK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Quantità</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;5000&lt;/cbc:Quantity&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;cbc:Quantity unitCode="XPK" unitCodeListID="UNECERec20"&gt;10&lt;/cbc:Quantity&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Numero unità base della confezione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:AdditionalItemProperty/cbc:Name=PackSizeNumeric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cac:AdditionalItemProperty/cbc:Name=PackQuantity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Identificativo Unità Base</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Una confezione contiene 500 pezzi:</p>
<p class="tableblock">cac:AdditionalItemProperty/cbc:Value = 500</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un articolo (confezione) contiene 500 pezzi:</p>
<p class="tableblock">cac:AdditionalItemProperty/cbc:Value = 500</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Seguono due esempi significativi.</p>
</div>
<div class="sect3">
<h4 id="truecaso-1-articolo-ordinato-per-singola-unità"><a class="anchor" href="#truecaso-1-articolo-ordinato-per-singola-unità"></a>8.16.1. Caso 1: Articolo ordinato per singola unità</h4>
<div class="paragraph">
<p>Esempio in cui l’articolo viene ordinato per singola unità e non a confezione, ed indicazione del numero di pezzi per confezione primaria:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;!-- 5000 guanti --&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;5000&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;500.00&lt;/cbc:LineExtensionAmount&gt;
        &lt;cac:Price&gt;
                &lt;!-- Prezzo singolo guanto --&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;0.10000&lt;/cbc:PriceAmount&gt;
            &lt;cbc:BaseQuantity unitCode="C62" unitCodeListID=”UNECERec20”&gt;1&lt;/cbc:BaseQuantity&gt;
        &lt;/cac:Price&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Guanti&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;!-- O altro identificativo (es. Standard) --&gt;
                &lt;cbc:ID&gt;XYZ&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:AdditionalItemProperty&gt;
                &lt;!—Una confezione contiene 500 pezzi--&gt;
                &lt;cbc:Name&gt;PackSizeNumeric&lt;/cbc:Name&gt;
                &lt;cbc:Value&gt;500&lt;/cbc:Value&gt;
                &lt;cac:AdditionalItemProperty&gt;
                &lt;/cac:Item&gt;
            &lt;/cac:LineItem&gt;
        &lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truecaso-2-articolo-ordinato-a-confezione"><a class="anchor" href="#truecaso-2-articolo-ordinato-a-confezione"></a>8.16.2. Caso 2: Articolo ordinato a confezione</h4>
<div class="paragraph">
<p>Esempio in cui l’articolo viene ordinato a confezione:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
                &lt;!--10 confezioni di guanti --&gt;
        &lt;cbc:Quantity unitCode="XPK" unitCodeListID="UNECERec20"&gt;10&lt;/cbc:Quantity&gt;
        &lt;cbc:LineExtensionAmount currencyID="EUR"&gt;500.00&lt;/cbc:LineExtensionAmount&gt;
        &lt;cac:Price&gt;
                &lt;!--Prezzo confezione --&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;50.00000&lt;/cbc:PriceAmount&gt;
            &lt;cbc:BaseQuantity unitCode="XPK" unitCodeListID=”UNECERec20”&gt;1&lt;/cbc:BaseQuantity&gt;
        &lt;/cac:Price&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;CONFEZIONE GUANTI&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;!-- O altro identificativo (es. Standard) --&gt;
                &lt;cbc:ID&gt;XYZ500&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:AdditionalItemProperty&gt;
                &lt;!—Una articolo (confezione) contiene 500 pezzi--&gt;
                &lt;cbc:Name&gt;PackQuantity&lt;/cbc:Name&gt;
                &lt;cbc:Value&gt;500&lt;/cbc:Value&gt;
                &lt;cac:AdditionalItemProperty&gt;
                &lt;/cac:Item&gt;
            &lt;/cac:LineItem&gt;
        &lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecategoria-iva-su-riga"><a class="anchor" href="#truecategoria-iva-su-riga"></a>8.17. Categoria IVA su riga</h3>
<div class="paragraph">
<p>Le informazioni sull’IVA a livello di riga sono fornite dalla classe cac:ClassifiedTaxCategory.</p>
</div>
<div class="paragraph">
<p>Se la classe è già utilizzata, ciascuna riga deve avere il codice articolo della categoria IVA, e per tutte le categorie IVA eccetto la “Non soggetto ad IVA” (codice categoria O) deve essere fornita l’aliquota IVA.</p>
</div>
<div class="paragraph">
<p>Esempio di categoria IVA su riga:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:ClassifiedTaxCategory&gt;
    &lt;cbc:ID&gt;S&lt;/cbc:ID&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;cbc:Percent&gt;22&lt;/cbc:Percent&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;cac:TaxScheme&gt;
        &lt;cbc:ID&gt;VAT&lt;/cbc:ID <i class="conum" data-value="3"></i><b>(3)</b>
    &lt;/cac:TaxScheme&gt;
&lt;/cac:ClassifiedTaxCategory&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Categoria IVA a seconda della lista di codici UNCL5305 (DutyTaxCategoryCode IT), vedi <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO;</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>La percentuale IVA, deve essere presente a meno che il codice categoria IVA sia O (Escluso dall’applicazione IVA);</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Il valore deve essere VAT.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truedescrizione-di-parti-selezionate-del-messaggio-di-risposta-dordine"><a class="anchor" href="#truedescrizione-di-parti-selezionate-del-messaggio-di-risposta-dordine"></a>9. Descrizione di parti selezionate del messaggio di risposta d’ordine</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Il messaggio di risposta d’ordine viene inviato dal venditore all’acquirente attestando la capacità del venditore di evadere l’ordine. Le seguenti regole si applicano al PEPPOL BIS Order Response:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La risposta d’ordine deve essere riferita ad un ordine.</p>
</li>
<li>
<p>Il venditore può accettare o respingere l’intero ordine.</p>
</li>
<li>
<p>La risposta d’ordine in caso di rigetto deve specificarne il motivo.</p>
</li>
<li>
<p>Il venditore può accettare o respingere le singole righe d’ordine.</p>
</li>
<li>
<p>Se il venditore accetta o respinge le righe d’ordine, <strong>tutte</strong> le righe d’ordine devono essere inviate nella risposta d’ordine.</p>
</li>
<li>
<p>Le righe nella risposta d’ordine devono essere riferite alle righe corrispondenti nell’ordine, 1 a 1.</p>
</li>
<li>
<p>Le informazioni seguenti possono essere modificate nella risposta d’ordine:</p>
<div class="ulist">
<ul>
<li>
<p>Quantità;</p>
</li>
<li>
<p>Periodo di consegna;</p>
</li>
<li>
<p>Articolo in sostituzione;</p>
</li>
<li>
<p>Prezzo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Se l’ordine è respinto o modificato, la risposta d’ordine deve includere le informazioni di contatto del venditore.</p>
</li>
<li>
<p>La risposta d’ordine deve riportare univocamente l’identificativo del Fornitore.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="truecodice-di-risposta"><a class="anchor" href="#truecodice-di-risposta"></a>9.1. Codice di risposta</h3>
<div class="paragraph">
<p>Il Codice di Risposta indica la capacità del venditore di soddisfare l&#8217;ordine e deve essere inviato sia a livello di testata sia a livello di riga se le righe vengono inviate.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Codice di Risposta <strong>deve</strong> essere inviato a livello di testata.</p>
</li>
<li>
<p>Codice di Risposta <strong>deve</strong> essere inviato a livello di riga se le righe sono inviate.</p>
</li>
<li>
<p>Codice di Risposta può avere 4 valori: AB, RE, AP e CA (sottoinsieme della codifica di riferimento UNCL 4343)</p>
</li>
<li>
<p>Codice di risposta su riga può avere 5 valori: 1, 3, 5, 7 e 42. Sono valori estratti, come sottoinsieme, dalla codifica di riferimento UNCL 1229.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="truecodice-di-risposta-a-livello-di-testata"><a class="anchor" href="#truecodice-di-risposta-a-livello-di-testata"></a>9.1.1. Codice di Risposta a livello di Testata</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Codice di risposta</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Azione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;ordine è stato ricevuto</p>
<p class="tableblock">L&#8217;ordine non è ancora stato processato</p>
<p class="tableblock">Nessuna riga deve essere inviata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;ordine è respinto</p>
<p class="tableblock">Nessuna riga deve essere inviata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;ordine è accettato senza modifiche</p>
<p class="tableblock">Nessuna riga deve essere inviata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L&#8217;ordine è accettato con modifica a livello di riga</p>
<p class="tableblock">Tutte le righe devono essere inviate</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Esempio UBL di Codice di Risposta a livello di testata in un messaggio di risposta d&#8217;ordine</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cbc:OrderResponseCode listID="UNCL4343"&gt;CA&lt;/cbc:OrderResponseCode&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Esempio UBL di una risposta d&#8217;ordine che utilizza il codice risposta "AB" (ordine ricevuto)</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;OrderResponse
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns="urn:oasis:names:specification:ubl:schema:xsd:OrderResponse-2"
    xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
    xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"&gt;
    &lt;cbc:CustomizationID&gt;urn:fdc:peppol.eu:poacc:trns:order_response:3&lt;/cbc:CustomizationID&gt;
    &lt;cbc:ProfileID&gt;urn:fdc:peppol.eu:poacc:bis:ordering:3&lt;/cbc:ProfileID&gt;
    &lt;cbc:ID&gt;0005a-2018&lt;/cbc:ID&gt;
    &lt;cbc:IssueDate&gt;2018-12-01&lt;/cbc:IssueDate&gt;
    &lt;cbc:IssueTime&gt;14:30:00&lt;/cbc:IssueTime&gt;
    &lt;!--Ordine ricevuto ma ancora non processato--&gt;
    &lt;cbc:OrderResponseCode listID="UNCL4343"&gt;AB&lt;/cbc:OrderResponseCode&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;cbc:Note&gt;Risposta Ordine Inviato al Cliente&lt;/cbc:Note&gt;
    &lt;cbc:DocumentCurrencyCode listID="ISO4217"&gt;EUR&lt;/cbc:DocumentCurrencyCode&gt;
    &lt;cac:OrderReference&gt;
        &lt;cbc:ID&gt;5a-2018#2018-11-25#ABCDEF&lt;/cbc:ID&gt;
    &lt;/cac:OrderReference&gt;
    &lt;!--Fornitore, Venditore--&gt;
    &lt;cac:SellerSupplierParty&gt;
        &lt;cac:Party&gt;
            &lt;cbc:EndpointID schemeID="9906"&gt;IT05501420900&lt;/cbc:EndpointID&gt;
            &lt;cac:PartyIdentification&gt;
                &lt;cbc:ID schemeID="9906"&gt; IT05501420900&lt;/cbc:ID&gt;
            &lt;/cac:PartyIdentification&gt;
            &lt;cac:PartyLegalEntity&gt;
                &lt;cbc:RegistrationName&gt;Fornitore S.p.A.
                &lt;/cbc: RegistrationName&gt;
            &lt;/cac: PartyLegalEntity &gt;
        &lt;/cac:Party&gt;
    &lt;/cac:SellerSupplierParty&gt;
    &lt;!--Mittente, Cliente--&gt;
    &lt;cac:BuyerCustomerParty&gt;
        &lt;cac:Party&gt;
            &lt;cbc:EndpointID schemeID="9921"&gt;ABCDEF&lt;/cbc:EndpointID&gt;
            &lt;cac:PartyIdentification&gt;
                &lt;cbc:ID schemeID="9907"&gt;01598570777&lt;/cbc:ID&gt;
            &lt;/cac:PartyIdentification&gt;
            &lt;cac:PartyLegalEntity&gt;
                &lt;cbc:RegistrationName&gt;Azienda Sanitaria
                &lt;/cbc: RegistrationName&gt;
            &lt;/cac: PartyLegalEntity &gt;
        &lt;/cac:Party&gt;
    &lt;/cac:BuyerCustomerParty&gt;
    &lt;cac:Delivery&gt;
        &lt;cac:PromisedDeliveryPeriod&gt;
            &lt;cbc:StartDate&gt;2018-12-10&lt;/cbc:StartDate&gt;
            &lt;cbc:EndDate&gt;2018-12-20&lt;/cbc:EndDate&gt;
        &lt;/cac:PromisedDeliveryPeriod&gt;
    &lt;/cac:Delivery&gt; <i class="conum" data-value="2"></i><b>(2)</b>
&lt;/OrderResponse&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Il codice di risposta AB indica solamente che l&#8217;ordine è stato ricevuto, ma non è ancora stato processato.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Nessuna riga d&#8217;ordine è stata inviata in questa risposta.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="truecodice-di-risposta-a-livello-di-riga"><a class="anchor" href="#truecodice-di-risposta-a-livello-di-riga"></a>9.1.2. Codice di Risposta a livello di riga</h4>
<div class="paragraph">
<p>Quando l’ordine viene accettato con modifiche a livello di riga, tutte le righe d’ordine devono essere inviate nella risposta includendo il relativo codice.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Codice di risposta</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Azione</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La riga d&#8217;ordine è stata aggiunta</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La riga d&#8217;ordine è stata cambiata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La riga d&#8217;ordine è stata accettata senza modifiche</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La riga d&#8217;ordine non è stata accettata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La riga d&#8217;ordine è già stata consegnata</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Esempio di Codice di Risposta a livello di riga in un messaggio di risposta d&#8217;ordine:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">	…
&lt;cac:OrderLine&gt;
	&lt;cbc: LineStatusCode listID=”UNCL1229”&gt;7&lt;/cbc: LineStatusCode &gt;
	&lt;cbc:Note&gt;Merce terminata&lt;/cbc:Note&gt;
&lt;cac:LineItem&gt;
	…</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueriferimento-allordine"><a class="anchor" href="#trueriferimento-allordine"></a>9.2. Riferimento all&#8217;ordine</h3>
<div class="paragraph">
<p>Il riferimento all&#8217;ordine correlato deve essere effettuato a livello di testata.</p>
</div>
<div class="paragraph">
<p>Nell’elemento “OrderReference” i seguenti campi sono obbligatori:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>“ID”, valorizzato con l’identificativo dell’Ordine a cui si intende rispondere;</p>
</li>
<li>
<p>“DocumentReference/ID”, valorizzato con l’identificativo dell’Ordine a cui si intende rispondere;</p>
</li>
<li>
<p>“DocumentReference/IssueDate”, valorizzato con la data dell’Ordine a cui si intende rispondere;</p>
</li>
<li>
<p>“DocumentReference/IssuerParty”, al cui interno dovrà essere indicato il campo “EndpointID” e “PartyIdendification/ID” con il corrispondente valore presente nel documento a cui si intende rispondere (BuyerCustomerParty).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Esempio di riferimento d&#8217;ordine a livello di testata in un messaggio di risposta d&#8217;ordine BIS PEPPOL</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    ...
&lt;cbc:ID&gt;12&lt;/cbc:ID&gt;
&lt;cbc:IssueDate&gt;2018-10-01&lt;/cbc:IssueDate&gt;
&lt;cbc:IssueTime&gt;12:30:00&lt;/cbc:IssueTime&gt;
&lt;cbc:OrderResponseCode listID=”UNCL4343”&gt;CA&lt;/cbc:OrderResponseCode&gt;
&lt;cbc:Note&gt;Modifica in una linea ordine&lt;/cbc:Note&gt;
    &lt;cac:OrderReference&gt;
        &lt;cbc:ID&gt;34#2018-09-20#ABCDEF&lt;/cbc:ID&gt;
    &lt;/cac:OrderReference&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se le righe vengono inviate nel messaggio di risposta d&#8217;ordine, deve essere inviato un riferimento alla riga ordine relativa.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di riferimento alla linea d&#8217;ordine a livello di riga</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    ...
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;2&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode listID=”UNCL1229”&gt;5&lt;/cbc:LineStatusCode&gt;
		    ...
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Salviette umide per bambini&lt;/cbc:Name&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
            ...
    &lt;cac:OrderLineReference&gt;
        &lt;cac:LineID&gt;2&lt;/cac:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;
    ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueesempi-di-risposta-dordine"><a class="anchor" href="#trueesempi-di-risposta-dordine"></a>9.3. Esempi di risposta d&#8217;ordine</h3>
<div class="sect3">
<h4 id="trueordine-rifiutato"><a class="anchor" href="#trueordine-rifiutato"></a>9.3.1. Ordine rifiutato</h4>
<div class="paragraph">
<p>Quando il venditore rifiuta un ordine, il codice di risposta «RE» deve essere inviato a livello di testata.
In questo caso non deve essere fornita alcuna riga di dettaglio.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cbc:ID&gt;34&lt;/cbc:ID&gt;
&lt;cbc:IssueDate&gt;2012-10-01&lt;/cbc:IssueDate&gt;
&lt;cbc:IssueTime&gt;12:30:00&lt;/cbc:IssueTime&gt;
&lt;cbc:OrderResponseCode listID=”UNCL4343”&gt;RE&lt;/cbc:OrderResponseCode</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueordine-accettato"><a class="anchor" href="#trueordine-accettato"></a>9.3.2. Ordine accettato</h4>
<div class="paragraph">
<p>Quando il venditore accetta un ordine senza modifiche, il codice di risposta «AP» deve essere inviato a livello di testata.
In questo caso non deve essere fornita alcuna riga di dettaglio.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cbc:ID&gt;34&lt;/cbc:ID&gt;
&lt;cbc:IssueDate&gt;2012-10-01&lt;/cbc:IssueDate&gt;
&lt;cbc:IssueTime&gt;12:30:00&lt;/cbc:IssueTime&gt;
&lt;cbc:OrderResponseCode listID=”UNCL4343”&gt;AP&lt;/cbc:OrderResponseCode&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueordine-accettato-con-modifiche"><a class="anchor" href="#trueordine-accettato-con-modifiche"></a>9.4. Ordine accettato con modifiche</h3>
<div class="ulist">
<ul>
<li>
<p>Quando il venditore accetta un ordine con modifiche, il codice di risposta &lt;&lt; <strong>CA</strong> &gt;&gt; deve essere inviato a livello di testata.</p>
</li>
<li>
<p>A livello di riga ci potrebbero essere una combinazione di codici differenti di risposta.</p>
</li>
<li>
<p>Alcune righe potrebbero essere state accettate senza modifiche (codice risposta di riga 5), alcune non accettate (codice risposta di riga 7) e alcune modifiche (codice risposta di riga 3).</p>
</li>
<li>
<p>Se codice risposta di riga è pari a 3, gli elementi da modificare devono essere inviati con nuovi valori.</p>
<div class="ulist">
<ul>
<li>
<p>I seguenti elementi possono essere modificati:</p>
<div class="ulist">
<ul>
<li>
<p>Quantità;</p>
</li>
<li>
<p>Periodo di consegna;</p>
</li>
<li>
<p>Articolo in sostituzione;</p>
</li>
<li>
<p>Prezzo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Esempio di cambio di quantità in un messaggio di risposta d&#8217;ordine</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode listID=”UNCL1229”&gt;3&lt;/cbc:LineStatusCode&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID=”UNECERec20”&gt;18&lt;/cbc:Quantity&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Salviette umide per bambini&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;SN-35&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;3&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Esempio di modifica della quantità e del periodo di consegna in un messaggio di risposta d&#8217;ordine:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode listID=”UNCL1229”&gt;3&lt;/cbc:LineStatusCode&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID=”UNECERec20”&gt;3&lt;/cbc:Quantity&gt;
        &lt;cac:Delivery&gt;
            &lt;cac:PromisedDeliveryPeriod&gt;
                &lt;cbc:StartDate&gt;2018-07-15&lt;/cbc:StartDate&gt;
                &lt;cbc:EndDate&gt;2018-07-15&lt;/cbc:EndDate&gt;
            &lt;/cac:PromisedDeliveryPeriod&gt;
        &lt;/cac:Delivery&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt; Salviette umide per bambini &lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;SN-35&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;3&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Si noti nell’esempio seguente come è possibile inviare più di una riga di risposta ordine per riga di ordine.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Per la stessa riga dell’ordine quindi, aggiungiamo una ulteriore modifica della quantità e del periodo di consegna come nell&#8217;esempio sopra.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    ...
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;1&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode listID=”UNCL1229”&gt;1&lt;/cbc:LineStatusCode&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID=”UNECERec20”&gt;12&lt;/cbc:Quantity&gt;
        &lt;cac:Delivery&gt;
            &lt;cac:PromisedDeliveryPeriod&gt;
                &lt;cbc:StartDate&gt;2018-08-19&lt;/cbc:StartDate&gt;
                &lt;cbc:EndDate&gt;2018-08-19&lt;/cbc:EndDate&gt;
            &lt;/cac:PromisedDeliveryPeriod&gt;
        &lt;/cac:Delivery&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt; Salviette umide per bambini &lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;SN-35&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;4&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;effetto delle due righe di risposta d’ordine di cui sopra dovrebbe essere interpretato come segue:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La riga d’ordine 4 verrà consegnata in due date:</p>
<div class="ulist">
<ul>
<li>
<p>18 pezzi il 15 luglio</p>
</li>
<li>
<p>12 pezzi il 15 agosto.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Esempio di articolo sostitutivo in un messaggio di risposta d&#8217;ordine</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;2&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode listID=”UNCL1229”&gt;3&lt;/cbc:LineStatusCode&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt; Salviette umide per bambini &lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;SItemNo011&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:StandardItemIdentification&gt;
                &lt;cbc:ID schemeID="0160"&gt;05704368876486&lt;/cbc:ID&gt;
            &lt;/cac:StandardItemIdentification&gt;
            &lt;cac:CommodityClassification&gt;
                &lt;cbc:ItemClassificationCode listID="STI"&gt;56789&lt;/cbc:ItemClassificationCode&gt;
            &lt;/cac:CommodityClassification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:SellerSubstitutedLineItem&gt; <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;cbc:ID&gt;2&lt;/cbc:ID&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Salviette umide per adulti&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;SItemNo012&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:StandardItemIdentification&gt;
                &lt;cbc:ID schemeID="0160"&gt;05704368643453&lt;/cbc:ID&gt;
            &lt;/cac:StandardItemIdentification&gt;
            &lt;cac:CommodityClassification&gt;
                &lt;cbc: ItemClassificationCode listID="STI"&gt;
				675634&lt;/cbc: ItemClassificationCode &gt;
            &lt;/cac:CommodityClassification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:SellerSubstitutedLineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;3&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Le informazioni sull&#8217;articolo sostituito vengono inviate in cac:SellerSubstitutedLineItem.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Esempio di modifica prezzo in un messaggio di risposta d&#8217;ordine</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;002&lt;/cbc:ID&gt;
        &lt;cbc:Note&gt;Merce Modificata nel Prezzo&lt;/cbc:Note&gt;
        &lt;!--Riga accettata con modifica--&gt;
        &lt;cbc:LineStatusCode listID="UNCL1229"&gt;3&lt;/cbc:LineStatusCode&gt;
        &lt;cbc:Quantity unitCode="C62" unitCodeListID="UNECERec20"&gt;5&lt;/cbc:Quantity&gt;
        &lt;cac:Delivery&gt;
            &lt;cac:PromisedDeliveryPeriod&gt;
                &lt;cbc:StartDate&gt;2018-12-01&lt;/cbc:StartDate&gt;
                &lt;cbc:EndDate&gt;2018-12-24&lt;/cbc:EndDate&gt;
            &lt;/cac:PromisedDeliveryPeriod&gt;
        &lt;/cac:Delivery&gt;
        &lt;cac:Price&gt;
            &lt;!--&lt;cbc:PriceAmount currencyID="EUR"&gt;4.00&lt;/cbc:PriceAmount&gt;--&gt;
            &lt;cbc:PriceAmount currencyID="EUR"&gt;3.75&lt;/cbc:PriceAmount&gt;
        &lt;/cac:Price&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Prodotto 02&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;79847-E&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;2&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueordine-con-sostituzione-articoli-e-consegna-fuori-tempo"><a class="anchor" href="#trueordine-con-sostituzione-articoli-e-consegna-fuori-tempo"></a>9.5. Ordine con sostituzione articoli e consegna fuori tempo</h3>
<div class="paragraph">
<p>Una risposta d&#8217;ordine può sostituire gli articoli in due modalità. Se viene sostituita la quantità totale di un articolo, tale informazione può essere fornita utilizzando l&#8217;elemento che identifica il nuovo venditore (SellerSubstitutedLineItem) nella risposta di fatturazione, come illustrato nell&#8217;esempio seguente.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di articolo sostituito in un messaggio di risposta d&#8217;ordine</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;6&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode listID="UNCL1229"&gt;3&lt;/cbc:LineStatusCode&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Salviette umide&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;SItemNo011&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:StandardItemIdentification&gt;
                &lt;cbc:ID schemeID="0160"&gt;05704368876486&lt;/cbc:ID&gt;
            &lt;/cac:StandardItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:SellerSubstitutedLineItem&gt; <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;cbc:ID&gt;2&lt;/cbc:ID&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Salviette umide&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;SItemNo012&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
            &lt;cac:StandardItemIdentification&gt;
                &lt;cbc:ID schemeID="0160"&gt;05704368643453&lt;/cbc:ID&gt;
            &lt;/cac:StandardItemIdentification&gt;
            &lt;cac:CommodityClassification&gt;
                &lt;cbc:ItemClassificationCode listID="STI"&gt;675634&lt;/cbc:ItemClassificationCode&gt;
            &lt;/cac:CommodityClassification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:SellerSubstitutedLineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;5&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Le informazioni sull&#8217;articolo sostituito vengono inviate cac:SellerSubstitutedLineItem</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Se il venditore sostituisce una parte della quantità d&#8217;ordine o consegna la quantità d&#8217;ordine in date diverse, potrebbe dover aggiungere righe e/o contrassegnare le righe ordinate come consegnate, come illustrato nell&#8217;esempio seguente.</p>
</div>
<div class="paragraph">
<p>Nell&#8217;esempio un venditore conferma la prima riga d&#8217;ordine, fornisce due date di consegna per la riga del secondo ordine di 3 pezzi (Prodotto B) aggiungendo una nuova riga e quindi conferma che la riga d&#8217;ordine 3 è già stata consegnata.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di righe aggiuntive e consegna fuori tempo</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;11&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode&gt;5&lt;/cbc:LineStatusCode&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Prodotto A&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;Pr00A&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;1&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;10&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode&gt;3&lt;/cbc:LineStatusCode&gt;
        &lt;cbc:Quantity unitCode="C62"&gt;2&lt;/cbc:Quantity&gt;
        &lt;cac:Delivery&gt;
            &lt;cac:PromisedDeliveryPeriod&gt;
                &lt;cbc:StartDate&gt;2018-07-01&lt;/cbc:StartDate&gt;
            &lt;/cac:PromisedDeliveryPeriod&gt;
        &lt;/cac:Delivery&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Prodotto B&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;Pr00B&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;2&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;7&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode&gt;1&lt;/cbc:LineStatusCode&gt;
        &lt;cbc:Quantity unitCode="C62"&gt;1&lt;/cbc:Quantity&gt;
        &lt;cac:Delivery&gt;
            &lt;cac:PromisedDeliveryPeriod&gt;
                &lt;cbc:StartDate&gt;2018-07-05&lt;/cbc:StartDate&gt;
            &lt;/cac:PromisedDeliveryPeriod&gt;
        &lt;/cac:Delivery&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Prodotto B&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;Pr00B&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;2&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;
&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;8&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode&gt;42&lt;/cbc:LineStatusCode&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Prodotto C&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;Pr00C&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;3&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueordine-con-rinvio"><a class="anchor" href="#trueordine-con-rinvio"></a>9.6. Ordine con rinvio</h3>
<div class="paragraph">
<p>Un risposta d’ordine potrebbe fornire informazioni riferite ad una consegna parziale di una riga d’ordine con informazioni aggiuntive riferite al numero massimo di articoli che verranno consegnati in una data successiva, quest&#8217;ultima non ancora nota.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Se la quantità rimanente non verrà consegnata, utilizzare cbc:MaximumBackorderQuantity= 0 .
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Esempio che mostra una risposta ad un ordine di 6 articoli di cui 2 ricevono conferma sulle date di consegna e 3 sono messi in ordine rinviato per essere in consegna successivamente, per una consegna totale fino a 5 articoli</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:OrderLine&gt;
    &lt;cac:LineItem&gt;
        &lt;cbc:ID&gt;9&lt;/cbc:ID&gt;
        &lt;cbc:LineStatusCode&gt;3&lt;/cbc:LineStatusCode&gt;
        &lt;cbc:Quantity unitCode="C62"&gt;2&lt;/cbc:Quantity&gt;
        &lt;cbc:MaximumBackorderQuantity&gt;3&lt;/cbc:MaximumBackorderQuantity&gt;
        &lt;cac:Delivery&gt;
            &lt;cac:PromisedDeliveryPeriod&gt;
                &lt;cbc:StartDate&gt;2018-09-05&lt;/cbc:StartDate&gt;
            &lt;/cac:PromisedDeliveryPeriod&gt;
        &lt;/cac:Delivery&gt;
        &lt;cac:Item&gt;
            &lt;cbc:Name&gt;Prodotto D&lt;/cbc:Name&gt;
            &lt;cac:SellersItemIdentification&gt;
                &lt;cbc:ID&gt;Pr00D&lt;/cbc:ID&gt;
            &lt;/cac:SellersItemIdentification&gt;
        &lt;/cac:Item&gt;
    &lt;/cac:LineItem&gt;
    &lt;cac:OrderLineReference&gt;
        &lt;cbc:LineID&gt;1&lt;/cbc:LineID&gt;
    &lt;/cac:OrderLineReference&gt;
&lt;/cac:OrderLine&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecategoria-iva-su-riga-2"><a class="anchor" href="#truecategoria-iva-su-riga-2"></a>9.7. Categoria IVA su riga</h3>
<div class="paragraph">
<p>Le informazioni sull’IVA a livello di riga sono fornite dalla classe cac:ClassifiedTaxCategory.</p>
</div>
<div class="paragraph">
<p>Se la classe è già utilizzata, ciascuna riga deve avere il codice articolo della categoria IVA, e per tutte le categorie IVA eccetto la “Non soggetto ad IVA” (codice categoria O) deve essere fornita l’aliquota IVA.</p>
</div>
<div class="paragraph">
<p>Esempio di categoria IVA su riga:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;cac:ClassifiedTaxCategory&gt;
    &lt;cbc:ID&gt;S&lt;/cbc:ID&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;cbc:Percent&gt;22&lt;/cbc:Percent&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;cac:TaxScheme&gt;
        &lt;cbc:ID&gt;VAT&lt;/cbc:ID <i class="conum" data-value="3"></i><b>(3)</b>
    &lt;/cac:TaxScheme&gt;
&lt;/cac:ClassifiedTaxCategory&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Categoria IVA a seconda della lista di codici UNCL5305 (DutyTaxCategoryCode IT), vedi <a href="../../attachments/Intercent-ER-Code-Lists_Peppol-3.xls">Codifiche e Identificatori</a> compatibili con NSO;</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>La percentuale IVA, deve essere presente a meno che il codice categoria IVA sia O (Escluso dall’applicazione IVA);</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Il valore deve essere VAT.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueidentificatori-peppol"><a class="anchor" href="#trueidentificatori-peppol"></a>10. Identificatori PEPPOL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PEPPOL ha definito una <a href="https://joinup.ec.europa.eu/svn/peppol/TransportInfrastructure/PEPPOL_Policy%20for%20use%20of%20identifiers-300.pdf">PEPPOL Policy for identifiers, policy 8</a> che specifica come utilizzare gli identificatori sia nella sua infrastruttura di trasporto che all’interno dei documenti scambiati su questa.  Essa introduce anche i principi per ogni identificatore utilizzato nell’ambiente PEPPOL.   Le regole che si applicano a questo BIS sono le seguenti:</p>
</div>
<div class="sect2">
<h3 id="trueprofili-e-messaggi"><a class="anchor" href="#trueprofili-e-messaggi"></a>10.1. Profili e messaggi</h3>
<div class="paragraph">
<p>Tutti i messaggi contengono ProfileID e CustomizationID.
ProfileID identifica il processo di business di cui un determinato messaggio fa parte mentre il CustomizationID identifica il tipo di messaggio e le regole applicate.
I profili sono collegati a un processo di business e possono contenere diverse tipologie di documento.
I documenti esemplificativi che sono validi devono contenere i corrispondenti ProfileID e CustomizationID.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
CustomizationID è una stringa senza spazi. La codifica seguente contiene spazi sui CustomizationID per renderli facilmente leggibili. <strong>Bisogna assicurarsi di rimuovere gli eventuali spazi prima dell’uso.</strong>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="trueidentificatori-di-personalizzazione-e-profilo"><a class="anchor" href="#trueidentificatori-di-personalizzazione-e-profilo"></a>10.2. Identificatori di personalizzazione e profilo</h3>
<div class="paragraph">
<p>Nella tabella seguente vengono riportati i valori da utilizzare come identificatori della specifica e della tipologia di processo di business per tale profilo.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo </strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Elemento</strong> cbc:CustomizationID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong> cbc:ProfileID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ordine (Trdm01)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:fdc:peppol.eu:poacc:trns:order:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:fdc:peppol.eu:poacc:bis:ordering:3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ordine response (Trdm76)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:fdc:peppol.eu:poacc:trns:order_response:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">urn:fdc:peppol.eu:poacc:bis:ordering:3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="trueendpoint-id-identificativo-di-instradamento-sulla-rete-peppol"><a class="anchor" href="#trueendpoint-id-identificativo-di-instradamento-sulla-rete-peppol"></a>10.3. Endpoint ID - Identificativo di instradamento sulla rete PEPPOL</h3>
<div class="paragraph">
<p>Quando si specifica un Endpoint ID nel documento si vuole mantenere l’informazione dell’indirizzo elettronico del mittente o destinatario utilizzati per l’instradamento dei messaggi (delivery) sul circuito PEPPOL.
L’Endpoint ID specificato nel documento DEVE coincidere con quello utilizzato dal protocollo di trasmissione adottato (es. AS2, START, &#8230;&#8203;).
L’Endpoint ID non è obbligatorio nel documento ma è consigliato perché mantiene il legame fra il documento, la parte di business e l’access point/circuito utilizzato.</p>
</div>
<div class="paragraph">
<p>Le tipologie di identificativi italiani riconosciuti da PEPPOL e consigliati sono:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>9906</strong> per IT:VAT	(partite IVA)</p>
</li>
<li>
<p><strong>9907</strong> per IT:CF	(codice fiscale persona fisica o giuridica)</p>
</li>
<li>
<p><strong>9921</strong> per IT:IPA	(Indice Pubbliche Amministrazioni)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In Italia si raccomanda l’uso del codice IPA per registrare le pubbliche amministrazioni sulla rete PEPPOL, tuttavia non è obbligatorio e in sua assenza si consiglia l’uso del codice fiscale.</p>
</div>
<div class="listingblock">
<div class="title">Esempio di Endpoint di un’Autorità Appaltante registrata in PEPPOL con l’IPA:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cbc:EndpointID schemeID="9921"&gt;ABCDEF&lt;/cbc:EndpointID&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Esempio di Endpoint di un’Autorità Appaltante registrata in PEPPOL con il CF:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cbc:EndpointID schemeID="9907"&gt;07643520567&lt;/cbc:EndpointID&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Esempio di Endpoint di Fornitore registrato in PEPPOL con la P.IVA:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cbc:EndpointID schemeID="9906"&gt;IT07643520567&lt;/cbc:EndpointID&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Esempio di Endpoint di fornitore registrato in PEPPOL con un GLN (Global Location Number) secondo gli standard GS1:</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cbc:EndpointID schemeID="0088"&gt;5790000435968&lt;/cbc:EndpointID&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueparty-identification-identificazione-ai-fini-operativi-eo-amministrativo-contabili"><a class="anchor" href="#trueparty-identification-identificazione-ai-fini-operativi-eo-amministrativo-contabili"></a>10.4. Party Identification - Identificazione ai fini operativi e/o amministrativo-contabili</h3>
<div class="paragraph">
<p>Per la parte acquirente pubblica (BuyerCustomerParty) il PartyIdentification è obbligatorio e può essere un solo identificativo espresso secondo lo schema di identificatori UFE IPA, in modo da individuare univocamente l’emittente del documento.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cac:PartyIdentification&gt;
	    &lt;cbc:ID schemeID="9921"&gt;ABCDEF&lt;/cbc:ID&gt;
    &lt;/cac:PartyIdentification&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Per la parte fornitrice (SellerSupplierParty) il PartyIdentification non è obbligatorio e permette di comunicare uno o più identificativi per meglio identificarla per diversi usi (operativi, amministrativo-contabili, logistici, …).</p>
</div>
<div class="paragraph">
<p>Per il fornitore questa informazione deve essere utilizzata esclusivamente qualora non sia già presente in altre parti del documento. Ad esempio, non è necessario ripetere un identificativo VAT o CF se questo è già disponibile nel PartyTaxScheme del fornitore.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cac:PartyIdentification&gt;
	    &lt;cbc:ID schemeID="9907"&gt;IT07643520567&lt;/cbc:ID&gt;
    &lt;/cac:PartyIdentification&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ai fini logistici, può essere specificato un GLN (Global Location Number) secondo gli standard GS1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;cac:PartyIdentification&gt;
        &lt;cbc:ID schemeID="0088"&gt;5790000435968&lt;/cbc:ID&gt;
    &lt;/cac:PartyIdentification&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueid-profilo"><a class="anchor" href="#trueid-profilo"></a>10.5. ID Profilo</h3>
<div class="paragraph">
<p>L’elemento ProfileID identifica il processo del quale il documento di business fa parte. Il PEPPOL BIS usa il sistema d’identificazione di BII:</p>
</div>
<div class="paragraph">
<p>Per esempio l’identificativo di processo seguente è utilizzato per il profilo ― BII28 – Ordering:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">ProfileID: urn:fdc:peppol.eu:poacc:bis:ordering:3</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truespazio-dei-nomi"><a class="anchor" href="#truespazio-dei-nomi"></a>10.6. Spazio dei nomi</h3>
<div class="paragraph">
<p>Lo spazio dei nomi (namespace) dell’ordine <a href="http://docs.oasis-open.org/ubl/UBL-2.1.html">UBL 2.1</a> è:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">urn:oasis:names:specification:ubl:schema:xsd:Order-2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lo spazio dei nomi (namespace) della <a href="http://docs.oasis-open.org/ubl/os-UBL-2.1/xsd/maindoc/UBL-OrderResponse-2.1.xsd">Risposta d’Ordine UBL 2.1</a> è:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">urn:oasis:names:specification:ubl:schema:xsd:OrderResponse-2</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-08-22 15:05:02 +0200
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting();</script>
</body>
</html>